(()=>{"use strict";var e={20:(e,t,n)=>{var a=n(609),r=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var a,l={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:i.current}}t.jsx=l,t.jsxs=l},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a=n(609);const r=window.wp.components,s=window.wp.domReady;var i=n.n(s);const o=window.wp.element,l=window.wp.apiFetch;var c=n.n(l);const u=window.wp.compose,d=window.wp.i18n,m=window.wp.url;var h={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function p(e){return`[nuqs] ${h[e]}\n  See https://err.47ng.com/NUQS-${e}`}var g=function(){try{if("undefined"==typeof localStorage)return!1;const e="nuqs-localStorage-test";localStorage.setItem(e,e);const t=localStorage.getItem(e)===e;if(localStorage.removeItem(e),!t)return!1}catch(e){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",e),!1}return(localStorage.getItem("debug")??"").includes("nuqs")}();function f(e,...t){if(!g)return;const n=function(e,...t){return e.replace(/%[sfdO]/g,(e=>{const n=t.shift();return"%O"===e&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)}))}(e,...t);performance.mark(n);try{console.log(e,...t)}catch(e){console.log(n)}}var y=(0,a.createContext)({useAdapter(){throw new Error(p(404))}});function _(e,t,n){try{return e(t)}catch(e){return function(e,...t){g&&console.warn(e,...t)}("[nuqs] Error while parsing value `%s`: %O"+(n?" (for key `%s`)":""),t,e,n),null}}y.displayName="NuqsAdapterContext",g&&"undefined"!=typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==y&&console.error(p(303)),window.__NuqsAdapterContext=y);var v=function(){if("undefined"==typeof window)return 50;if(!Boolean(window.GestureEvent))return 50;try{const e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),w=new Map,E={history:"replace",scroll:!1,shallow:!0,throttleMs:v},x=new Set,b=0,S=null;function k(){return new URLSearchParams(location.search)}function T({getSearchParamsSnapshot:e=k,updateUrl:t,rateLimitFactor:n=1}){return null===S&&(S=new Promise(((a,r)=>{if(!Number.isFinite(E.throttleMs))return f("[nuqs queue] Skipping flush due to throttleMs=Infinity"),a(e()),void setTimeout((()=>{S=null}),0);function s(){b=performance.now();const[n,s]=function({updateUrl:e,getSearchParamsSnapshot:t}){const n=t();if(0===w.size)return[n,null];const a=Array.from(w.entries()),r={...E},s=Array.from(x);w.clear(),x.clear(),E.history="replace",E.scroll=!1,E.shallow=!0,E.throttleMs=v,f("[nuqs queue] Flushing queue %O with options %O",a,r);for(const[e,t]of a)null===t?n.delete(e):n.set(e,t);try{return function(t){const a=s=>{if(s===t.length)return void e(n,{history:r.history,scroll:r.scroll,shallow:r.shallow});const i=t[s];if(!i)throw new Error("Invalid transition function");i((()=>a(s+1)))};a(0)}(s),[n,null]}catch(e){return console.error(p(429),a.map((([e])=>e)).join(),e),[n,e]}}({updateUrl:t,getSearchParamsSnapshot:e});null===s?a(n):r(n),S=null}setTimeout((function(){const e=performance.now()-b,t=E.throttleMs,a=n*Math.max(0,Math.min(t,t-e));f("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",a,t),0===a?s():setTimeout(s,a)}),0)}))),S}function M(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}}function C(e){function t(t){if(void 0===t)return null;let n="";if(Array.isArray(t)){if(void 0===t[0])return null;n=t[0]}return"string"==typeof t&&(n=t),_(e.parse,n)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:n=>t(n)??e}},withOptions(e){return{...this,...e}}}}var N=C({parse:e=>e,serialize:e=>`${e}`}),O=C({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});function I(e,t){return e.valueOf()===t.valueOf()}C({parse:e=>{const t=O.parse(e);return null===t?null:t-1},serialize:e=>O.serialize(e+1)}),C({parse:e=>{const t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{const t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),C({parse:e=>{const t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),C({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),C({parse:e=>{const t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:I}),C({parse:e=>{const t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:I});var L=C({parse:e=>{const t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:I});function A(e){return C({parse:t=>{try{const n=JSON.parse(t);return e(n)}catch{return null}},serialize:e=>JSON.stringify(e),eq:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t)})}var P,D,j=M();function Z(e,{history:t="replace",shallow:n=!0,scroll:r=!1,throttleMs:s=v,parse:i=e=>e,serialize:o=String,eq:l=(e,t)=>e===t,defaultValue:c,clearOnDefault:u=!0,startTransition:d}={history:"replace",scroll:!1,shallow:!0,throttleMs:v,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!0,defaultValue:void 0}){const m=function(){const e=(0,a.useContext)(y);if(!("useAdapter"in e))throw new Error(p(404));return e.useAdapter()}(),h=m.searchParams,g=(0,a.useRef)(h?.get(e)??null),[b,S]=(0,a.useState)((()=>{const t=function(e){return w.get(e)}(e),n=void 0===t?h?.get(e)??null:t;return null===n?null:_(i,n,e)})),k=(0,a.useRef)(b);f("[nuqs `%s`] render - state: %O, iSP: %s",e,b,h?.get(e)??null),(0,a.useEffect)((()=>{const t=h?.get(e)??null;if(t===g.current)return;const n=null===t?null:_(i,t,e);f("[nuqs `%s`] syncFromUseSearchParams %O",e,n),k.current=n,g.current=t,S(n)}),[h?.get(e),e]),(0,a.useEffect)((()=>{function t({state:t,query:n}){f("[nuqs `%s`] updateInternalState %O",e,t),k.current=t,g.current=n,S(t)}return f("[nuqs `%s`] subscribing to sync",e),j.on(e,t),()=>{f("[nuqs `%s`] unsubscribing from sync",e),j.off(e,t)}}),[e]);const M=(0,a.useCallback)(((a,i={})=>{let h=function(e){return"function"==typeof e}(a)?a(k.current??c??null):a;(i.clearOnDefault??u)&&null!==h&&void 0!==c&&l(h,c)&&(h=null);const p=function(e,t,n,a){const r=null===t?null:n(t);return f("[nuqs queue] Enqueueing %s=%s %O",e,r,a),w.set(e,r),"push"===a.history&&(E.history="push"),a.scroll&&(E.scroll=!0),!1===a.shallow&&(E.shallow=!1),a.startTransition&&x.add(a.startTransition),E.throttleMs=Math.max(a.throttleMs??v,Number.isFinite(E.throttleMs)?E.throttleMs:0),r}(e,h,o,{history:i.history??t,shallow:i.shallow??n,scroll:i.scroll??r,throttleMs:i.throttleMs??s,startTransition:i.startTransition??d});return j.emit(e,{state:h,query:p}),T(m)}),[e,t,n,r,s,d,m.updateUrl,m.getSearchParamsSnapshot,m.rateLimitFactor]);return[b??c??null,M]}!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(_x){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),a={};for(const e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(P||(P={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(D||(D={}));const F=P.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),z=e=>{switch(typeof e){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(e)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(e)?F.array:null===e?F.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?F.promise:"undefined"!=typeof Map&&e instanceof Map?F.map:"undefined"!=typeof Set&&e instanceof Set?F.set:"undefined"!=typeof Date&&e instanceof Date?F.date:F.object;default:return F.unknown}},R=P.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class H extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,a=0;for(;a<r.path.length;){const n=r.path[a];a===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof H))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,P.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}H.create=e=>new H(e);const $=(e,t)=>{let n;switch(e.code){case R.invalid_type:n=e.received===F.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,P.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${P.joinValues(e.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${P.joinValues(e.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${P.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:P.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case R.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case R.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,P.assertNever(e)}return{message:n}};let U=$;function q(){return U}const W=e=>{const{data:t,path:n,errorMaps:a,issueData:r}=e,s=[...n,...r.path||[]],i={...r,path:s};if(void 0!==r.message)return{...r,path:s,message:r.message};let o="";const l=a.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(i,{data:t,defaultError:o}).message;return{...r,path:s,message:o}};function B(e,t){const n=q(),a=W({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===$?void 0:$].filter((e=>!!e))});e.common.issues.push(a)}class V{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return Y;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,a=await e.value;n.push({key:t,value:a})}return V.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:r}=a;if("aborted"===t.status)return Y;if("aborted"===r.status)return Y;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!a.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const Y=Object.freeze({status:"aborted"}),G=e=>({status:"dirty",value:e}),Q=e=>({status:"valid",value:e}),K=e=>"aborted"===e.status,J=e=>"dirty"===e.status,X=e=>"valid"===e.status,ee=e=>"undefined"!=typeof Promise&&e instanceof Promise;function te(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)}function ne(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n}var ae,re,se;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(ae||(ae={}));class ie{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oe=(e,t)=>{if(X(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new H(e.common.issues);return this._error=t,this._error}}};function le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:r}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(t,r)=>{var s,i;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:r.defaultError}:void 0===r.data?{message:null!==(s=null!=o?o:a)&&void 0!==s?s:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(i=null!=o?o:n)&&void 0!==i?i:r.defaultError}},description:r}}class ce{get description(){return this._def.description}_getType(e){return z(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ee(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:z(e)},r=this._parseSync({data:e,path:a.path,parent:a});return oe(a,r)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:z(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return X(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then((e=>X(e)?{value:e.value}:{issues:a.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:z(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(ee(a)?a:Promise.resolve(a));return oe(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,a)=>{const r=e(t),s=()=>a.addIssue({code:R.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(s(),!1))):!!r||(s(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1)))}_refinement(e){return new ct({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ut.create(this,this._def)}nullable(){return dt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qe.create(this)}promise(){return lt.create(this,this._def)}or(e){return Ve.create([this,e],this._def)}and(e){return Ke.create(this,e,this._def)}transform(e){return new ct({...le(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new mt({...le(this._def),innerType:this,defaultValue:t,typeName:xt.ZodDefault})}brand(){return new ft({typeName:xt.ZodBranded,type:this,...le(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ht({...le(this._def),innerType:this,catchValue:t,typeName:xt.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return yt.create(this,e)}readonly(){return _t.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ue=/^c[^\s-]{8,}$/i,de=/^[0-9a-z]+$/,me=/^[0-9A-HJKMNP-TV-Z]{26}$/i,he=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pe=/^[a-z0-9_-]{21}$/i,ge=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ye=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let _e;const ve=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,we=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,be=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Se=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ke="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Te=new RegExp(`^${ke}$`);function Me(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Ce(e){let t=`${ke}T${Me(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Ne(e,t){if(!ge.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return!("object"!=typeof r||null===r||!r.typ||!r.alg||t&&r.alg!==t)}catch(e){return!1}}function Oe(e,t){return!("v4"!==t&&t||!we.test(e))||!("v6"!==t&&t||!xe.test(e))}class Ie extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.string,received:t.parsedType}),Y}const t=new V;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const a=e.data.length>s.value,r=e.data.length<s.value;(a||r)&&(n=this._getOrReturnCtx(e,n),a?B(n,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):r&&B(n,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)ye.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:R.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)_e||(_e=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),_e.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:R.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)he.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:R.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)pe.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"nanoid",code:R.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)ue.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:R.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)de.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:R.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)me.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:R.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:R.invalid_string,message:s.message}),t.dirty()}else"regex"===s.kind?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:R.invalid_string,message:s.message}),t.dirty())):"trim"===s.kind?e.data=e.data.trim():"includes"===s.kind?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty()):"toLowerCase"===s.kind?e.data=e.data.toLowerCase():"toUpperCase"===s.kind?e.data=e.data.toUpperCase():"startsWith"===s.kind?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty()):"endsWith"===s.kind?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty()):"datetime"===s.kind?Ce(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:"datetime",message:s.message}),t.dirty()):"date"===s.kind?Te.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:"date",message:s.message}),t.dirty()):"time"===s.kind?new RegExp(`^${Me(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:R.invalid_string,validation:"time",message:s.message}),t.dirty()):"duration"===s.kind?fe.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"duration",code:R.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(a=e.data,("v4"!==(r=s.version)&&r||!ve.test(a))&&("v6"!==r&&r||!Ee.test(a))&&(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:R.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?Ne(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"jwt",code:R.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?Oe(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cidr",code:R.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?be.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64",code:R.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?Se.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64url",code:R.invalid_string,message:s.message}),t.dirty()):P.assertNever(s);var a,r;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:R.invalid_string,...ae.errToObj(n)})}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ae.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...ae.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ae.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ae.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ae.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ae.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ae.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ae.errToObj(t)})}nonempty(e){return this.min(1,ae.errToObj(e))}trim(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ie({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Le(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}Ie.create=e=>{var t;return new Ie({checks:[],typeName:xt.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...le(e)})};class Ae extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.number,received:t.parsedType}),Y}let t;const n=new V;for(const a of this._def.checks)"int"===a.kind?P.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:R.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"multipleOf"===a.kind?0!==Le(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:R.not_finite,message:a.message}),n.dirty()):P.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ae.toString(t))}setLimit(e,t,n,a){return new Ae({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ae.toString(a)}]})}_addCheck(e){return new Ae({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&P.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ae.create=e=>new Ae({checks:[],typeName:xt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...le(e)});class Pe extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let t;const n=new V;for(const a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),B(t,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):P.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.bigint,received:t.parsedType}),Y}gte(e,t){return this.setLimit("min",e,!0,ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ae.toString(t))}setLimit(e,t,n,a){return new Pe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ae.toString(a)}]})}_addCheck(e){return new Pe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Pe.create=e=>{var t;return new Pe({checks:[],typeName:xt.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...le(e)})};class De extends ce{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==F.boolean){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.boolean,received:t.parsedType}),Y}return Q(e.data)}}De.create=e=>new De({typeName:xt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...le(e)});class je extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.date,received:t.parsedType}),Y}if(isNaN(e.data.getTime()))return B(this._getOrReturnCtx(e),{code:R.invalid_date}),Y;const t=new V;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:R.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:R.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):P.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}je.create=e=>new je({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:xt.ZodDate,...le(e)});class Ze extends ce{_parse(e){if(this._getType(e)!==F.symbol){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.symbol,received:t.parsedType}),Y}return Q(e.data)}}Ze.create=e=>new Ze({typeName:xt.ZodSymbol,...le(e)});class Fe extends ce{_parse(e){if(this._getType(e)!==F.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.undefined,received:t.parsedType}),Y}return Q(e.data)}}Fe.create=e=>new Fe({typeName:xt.ZodUndefined,...le(e)});class ze extends ce{_parse(e){if(this._getType(e)!==F.null){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.null,received:t.parsedType}),Y}return Q(e.data)}}ze.create=e=>new ze({typeName:xt.ZodNull,...le(e)});class Re extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Q(e.data)}}Re.create=e=>new Re({typeName:xt.ZodAny,...le(e)});class He extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Q(e.data)}}He.create=e=>new He({typeName:xt.ZodUnknown,...le(e)});class $e extends ce{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.never,received:t.parsedType}),Y}}$e.create=e=>new $e({typeName:xt.ZodNever,...le(e)});class Ue extends ce{_parse(e){if(this._getType(e)!==F.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.void,received:t.parsedType}),Y}return Q(e.data)}}Ue.create=e=>new Ue({typeName:xt.ZodVoid,...le(e)});class qe extends ce{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==F.array)return B(t,{code:R.invalid_type,expected:F.array,received:t.parsedType}),Y;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(B(t,{code:e?R.too_big:R.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(B(t,{code:R.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(B(t,{code:R.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>a.type._parseAsync(new ie(t,e,t.path,n))))).then((e=>V.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>a.type._parseSync(new ie(t,e,t.path,n))));return V.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new qe({...this._def,minLength:{value:e,message:ae.toString(t)}})}max(e,t){return new qe({...this._def,maxLength:{value:e,message:ae.toString(t)}})}length(e,t){return new qe({...this._def,exactLength:{value:e,message:ae.toString(t)}})}nonempty(e){return this.min(1,e)}}function We(e){if(e instanceof Be){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=ut.create(We(a))}return new Be({...e._def,shape:()=>t})}return e instanceof qe?new qe({...e._def,type:We(e.element)}):e instanceof ut?ut.create(We(e.unwrap())):e instanceof dt?dt.create(We(e.unwrap())):e instanceof Je?Je.create(e.items.map((e=>We(e)))):e}qe.create=(e,t)=>new qe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...le(t)});class Be extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=P.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==F.object){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.object,received:t.parsedType}),Y}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),s=[];if(!(this._def.catchall instanceof $e&&"strip"===this._def.unknownKeys))for(const e in n.data)r.includes(e)||s.push(e);const i=[];for(const e of r){const t=a[e],r=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new ie(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof $e){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(B(n,{code:R.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const a=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new ie(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e})).then((e=>V.mergeObjectSync(t,e))):V.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new Be({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,r,s,i;const o=null!==(s=null===(r=(a=this._def).errorMap)||void 0===r?void 0:r.call(a,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=ae.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new Be({...this._def,unknownKeys:"strip"})}passthrough(){return new Be({...this._def,unknownKeys:"passthrough"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const t={};return P.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Be({...this._def,shape:()=>t})}omit(e){const t={};return P.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Be({...this._def,shape:()=>t})}deepPartial(){return We(this)}partial(e){const t={};return P.objectKeys(this.shape).forEach((n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()})),new Be({...this._def,shape:()=>t})}required(e){const t={};return P.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ut;)e=e._def.innerType;t[n]=e}})),new Be({...this._def,shape:()=>t})}keyof(){return st(P.objectKeys(this.shape))}}Be.create=(e,t)=>new Be({shape:()=>e,unknownKeys:"strip",catchall:$e.create(),typeName:xt.ZodObject,...le(t)}),Be.strictCreate=(e,t)=>new Be({shape:()=>e,unknownKeys:"strict",catchall:$e.create(),typeName:xt.ZodObject,...le(t)}),Be.lazycreate=(e,t)=>new Be({shape:e,unknownKeys:"strip",catchall:$e.create(),typeName:xt.ZodObject,...le(t)});class Ve extends ce{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new H(e.ctx.common.issues)));return B(t,{code:R.invalid_union,unionErrors:n}),Y}));{let e;const a=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=a.map((e=>new H(e)));return B(t,{code:R.invalid_union,unionErrors:r}),Y}}get options(){return this._def.options}}Ve.create=(e,t)=>new Ve({options:e,typeName:xt.ZodUnion,...le(t)});const Ye=e=>e instanceof at?Ye(e.schema):e instanceof ct?Ye(e.innerType()):e instanceof rt?[e.value]:e instanceof it?e.options:e instanceof ot?P.objectValues(e.enum):e instanceof mt?Ye(e._def.innerType):e instanceof Fe?[void 0]:e instanceof ze?[null]:e instanceof ut?[void 0,...Ye(e.unwrap())]:e instanceof dt?[null,...Ye(e.unwrap())]:e instanceof ft||e instanceof _t?Ye(e.unwrap()):e instanceof ht?Ye(e._def.innerType):[];class Ge extends ce{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.object)return B(t,{code:R.invalid_type,expected:F.object,received:t.parsedType}),Y;const n=this.discriminator,a=t.data[n],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(B(t,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const n of t){const t=Ye(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(a.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);a.set(r,n)}}return new Ge({typeName:xt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...le(n)})}}function Qe(e,t){const n=z(e),a=z(t);if(e===t)return{valid:!0,data:e};if(n===F.object&&a===F.object){const n=P.objectKeys(t),a=P.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r={...e,...t};for(const n of a){const a=Qe(e[n],t[n]);if(!a.valid)return{valid:!1};r[n]=a.data}return{valid:!0,data:r}}if(n===F.array&&a===F.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const r=Qe(e[a],t[a]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===F.date&&a===F.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ke extends ce{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(K(e)||K(a))return Y;const r=Qe(e.value,a.value);return r.valid?((J(e)||J(a))&&t.dirty(),{status:t.value,value:r.data}):(B(n,{code:R.invalid_intersection_types}),Y)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>a(e,t))):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ke.create=(e,t,n)=>new Ke({left:e,right:t,typeName:xt.ZodIntersection,...le(n)});class Je extends ce{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.array)return B(n,{code:R.invalid_type,expected:F.array,received:n.parsedType}),Y;if(n.data.length<this._def.items.length)return B(n,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&n.data.length>this._def.items.length&&(B(n,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new ie(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(a).then((e=>V.mergeArray(t,e))):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Je({...this._def,rest:e})}}Je.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Je({items:e,typeName:xt.ZodTuple,rest:null,...le(t)})};class Xe extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.object)return B(n,{code:R.invalid_type,expected:F.object,received:n.parsedType}),Y;const a=[],r=this._def.keyType,s=this._def.valueType;for(const e in n.data)a.push({key:r._parse(new ie(n,e,n.path,e)),value:s._parse(new ie(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?V.mergeObjectAsync(t,a):V.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new Xe(t instanceof ce?{keyType:e,valueType:t,typeName:xt.ZodRecord,...le(n)}:{keyType:Ie.create(),valueType:e,typeName:xt.ZodRecord,...le(t)})}}class et extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.map)return B(n,{code:R.invalid_type,expected:F.map,received:n.parsedType}),Y;const a=this._def.keyType,r=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:a._parse(new ie(n,e,n.path,[s,"key"])),value:r._parse(new ie(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const a=await n.key,r=await n.value;if("aborted"===a.status||"aborted"===r.status)return Y;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const a=n.key,r=n.value;if("aborted"===a.status||"aborted"===r.status)return Y;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}et.create=(e,t,n)=>new et({valueType:t,keyType:e,typeName:xt.ZodMap,...le(n)});class tt extends ce{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==F.set)return B(n,{code:R.invalid_type,expected:F.set,received:n.parsedType}),Y;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(B(n,{code:R.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(B(n,{code:R.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const r=this._def.valueType;function s(e){const n=new Set;for(const a of e){if("aborted"===a.status)return Y;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>r._parse(new ie(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>s(e))):s(i)}min(e,t){return new tt({...this._def,minSize:{value:e,message:ae.toString(t)}})}max(e,t){return new tt({...this._def,maxSize:{value:e,message:ae.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tt.create=(e,t)=>new tt({valueType:e,minSize:null,maxSize:null,typeName:xt.ZodSet,...le(t)});class nt extends ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.function)return B(t,{code:R.invalid_type,expected:F.function,received:t.parsedType}),Y;function n(e,n){return W({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,q(),$].filter((e=>!!e)),issueData:{code:R.invalid_arguments,argumentsError:n}})}function a(e,n){return W({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,q(),$].filter((e=>!!e)),issueData:{code:R.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof lt){const e=this;return Q((async function(...t){const i=new H([]),o=await e._def.args.parseAsync(t,r).catch((e=>{throw i.addIssue(n(t,e)),i})),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,r).catch((e=>{throw i.addIssue(a(l,e)),i}))}))}{const e=this;return Q((function(...t){const i=e._def.args.safeParse(t,r);if(!i.success)throw new H([n(t,i.error)]);const o=Reflect.apply(s,this,i.data),l=e._def.returns.safeParse(o,r);if(!l.success)throw new H([a(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nt({...this._def,args:Je.create(e).rest(He.create())})}returns(e){return new nt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new nt({args:e||Je.create([]).rest(He.create()),returns:t||He.create(),typeName:xt.ZodFunction,...le(n)})}}class at extends ce{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}at.create=(e,t)=>new at({getter:e,typeName:xt.ZodLazy,...le(t)});class rt extends ce{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:R.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}function st(e,t){return new it({values:e,typeName:xt.ZodEnum,...le(t)})}rt.create=(e,t)=>new rt({value:e,typeName:xt.ZodLiteral,...le(t)});class it extends ce{constructor(){super(...arguments),re.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return B(t,{expected:P.joinValues(n),received:t.parsedType,code:R.invalid_type}),Y}if(te(this,re,"f")||ne(this,re,new Set(this._def.values),"f"),!te(this,re,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return B(t,{received:t.data,code:R.invalid_enum_value,options:n}),Y}return Q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return it.create(e,{...this._def,...t})}exclude(e,t=this._def){return it.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}re=new WeakMap,it.create=st;class ot extends ce{constructor(){super(...arguments),se.set(this,void 0)}_parse(e){const t=P.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==F.string&&n.parsedType!==F.number){const e=P.objectValues(t);return B(n,{expected:P.joinValues(e),received:n.parsedType,code:R.invalid_type}),Y}if(te(this,se,"f")||ne(this,se,new Set(P.getValidEnumValues(this._def.values)),"f"),!te(this,se,"f").has(e.data)){const e=P.objectValues(t);return B(n,{received:n.data,code:R.invalid_enum_value,options:e}),Y}return Q(e.data)}get enum(){return this._def.values}}se=new WeakMap,ot.create=(e,t)=>new ot({values:e,typeName:xt.ZodNativeEnum,...le(t)});class lt extends ce{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.promise&&!1===t.common.async)return B(t,{code:R.invalid_type,expected:F.promise,received:t.parsedType}),Y;const n=t.parsedType===F.promise?t.data:Promise.resolve(t.data);return Q(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}lt.create=(e,t)=>new lt({type:e,typeName:xt.ZodPromise,...le(t)});class ct extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{B(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Y;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?Y:"dirty"===a.status||"dirty"===t.value?G(a.value):a}));{if("aborted"===t.value)return Y;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?Y:"dirty"===a.status||"dirty"===t.value?G(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?Y:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Y:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!X(e))return e;const s=a.transform(e.value,r);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>X(e)?Promise.resolve(a.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}P.assertNever(a)}}ct.create=(e,t,n)=>new ct({schema:e,typeName:xt.ZodEffects,effect:t,...le(n)}),ct.createWithPreprocess=(e,t,n)=>new ct({schema:t,effect:{type:"preprocess",transform:e},typeName:xt.ZodEffects,...le(n)});class ut extends ce{_parse(e){return this._getType(e)===F.undefined?Q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ut.create=(e,t)=>new ut({innerType:e,typeName:xt.ZodOptional,...le(t)});class dt extends ce{_parse(e){return this._getType(e)===F.null?Q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dt.create=(e,t)=>new dt({innerType:e,typeName:xt.ZodNullable,...le(t)});class mt extends ce{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===F.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}mt.create=(e,t)=>new mt({innerType:e,typeName:xt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...le(t)});class ht extends ce{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ee(a)?a.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new H(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new H(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ht.create=(e,t)=>new ht({innerType:e,typeName:xt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...le(t)});class pt extends ce{_parse(e){if(this._getType(e)!==F.nan){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:F.nan,received:t.parsedType}),Y}return{status:"valid",value:e.data}}}pt.create=e=>new pt({typeName:xt.ZodNaN,...le(e)});const gt=Symbol("zod_brand");class ft extends ce{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class yt extends ce{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Y:"dirty"===e.status?(t.dirty(),G(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Y:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new yt({in:e,out:t,typeName:xt.ZodPipeline})}}class _t extends ce{_parse(e){const t=this._def.innerType._parse(e),n=e=>(X(e)&&(e.value=Object.freeze(e.value)),e);return ee(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function vt(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function wt(e,t={},n){return e?Re.create().superRefine(((a,r)=>{var s,i;const o=e(a);if(o instanceof Promise)return o.then((e=>{var s,i;if(!e){const e=vt(t,a),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;r.addIssue({code:"custom",...e,fatal:o})}}));if(!o){const e=vt(t,a),o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i;r.addIssue({code:"custom",...e,fatal:o})}})):Re.create()}_t.create=(e,t)=>new _t({innerType:e,typeName:xt.ZodReadonly,...le(t)});const Et={object:Be.lazycreate};var xt;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(xt||(xt={}));const bt=Ie.create,St=Ae.create,kt=pt.create,Tt=Pe.create,Mt=De.create,Ct=je.create,Nt=Ze.create,Ot=Fe.create,It=ze.create,Lt=Re.create,At=He.create,Pt=$e.create,Dt=Ue.create,jt=qe.create,Zt=Be.create,Ft=Be.strictCreate,zt=Ve.create,Rt=Ge.create,Ht=Ke.create,$t=Je.create,Ut=Xe.create,qt=et.create,Wt=tt.create,Bt=nt.create,Vt=at.create,Yt=rt.create,Gt=it.create,Qt=ot.create,Kt=lt.create,Jt=ct.create,Xt=ut.create,en=dt.create,tn=ct.createWithPreprocess,nn=yt.create,an={string:e=>Ie.create({...e,coerce:!0}),number:e=>Ae.create({...e,coerce:!0}),boolean:e=>De.create({...e,coerce:!0}),bigint:e=>Pe.create({...e,coerce:!0}),date:e=>je.create({...e,coerce:!0})},rn=Y;var sn=Object.freeze({__proto__:null,defaultErrorMap:$,setErrorMap:function(e){U=e},getErrorMap:q,makeIssue:W,EMPTY_PATH:[],addIssueToContext:B,ParseStatus:V,INVALID:Y,DIRTY:G,OK:Q,isAborted:K,isDirty:J,isValid:X,isAsync:ee,get util(){return P},get objectUtil(){return D},ZodParsedType:F,getParsedType:z,ZodType:ce,datetimeRegex:Ce,ZodString:Ie,ZodNumber:Ae,ZodBigInt:Pe,ZodBoolean:De,ZodDate:je,ZodSymbol:Ze,ZodUndefined:Fe,ZodNull:ze,ZodAny:Re,ZodUnknown:He,ZodNever:$e,ZodVoid:Ue,ZodArray:qe,ZodObject:Be,ZodUnion:Ve,ZodDiscriminatedUnion:Ge,ZodIntersection:Ke,ZodTuple:Je,ZodRecord:Xe,ZodMap:et,ZodSet:tt,ZodFunction:nt,ZodLazy:at,ZodLiteral:rt,ZodEnum:it,ZodNativeEnum:ot,ZodPromise:lt,ZodEffects:ct,ZodTransformer:ct,ZodOptional:ut,ZodNullable:dt,ZodDefault:mt,ZodCatch:ht,ZodNaN:pt,BRAND:gt,ZodBranded:ft,ZodPipeline:yt,ZodReadonly:_t,custom:wt,Schema:ce,ZodSchema:ce,late:Et,get ZodFirstPartyTypeKind(){return xt},coerce:an,any:Lt,array:jt,bigint:Tt,boolean:Mt,date:Ct,discriminatedUnion:Rt,effect:Jt,enum:Gt,function:Bt,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>wt((t=>t instanceof e),t),intersection:Ht,lazy:Vt,literal:Yt,map:qt,nan:kt,nativeEnum:Qt,never:Pt,null:It,nullable:en,number:St,object:Zt,oboolean:()=>Mt().optional(),onumber:()=>St().optional(),optional:Xt,ostring:()=>bt().optional(),pipeline:nn,preprocess:tn,promise:Kt,record:Ut,set:Wt,strictObject:Ft,string:bt,symbol:Nt,transformer:Jt,tuple:$t,undefined:Ot,union:zt,unknown:At,void:Dt,NEVER:rn,ZodIssueCode:R,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:H});const on={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ln(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cn={date:ln({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ln({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ln({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},un={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function dn(e){return(t,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function mn(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(r);if(!s)return null;const i=s[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(i))return t}(o):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(i))return t}(o);let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(i.length)}}}var hn;const pn={code:"en-US",formatDistance:(e,t,n)=>{let a;const r=on[e];return a="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:cn,formatRelative:(e,t,n,a)=>un[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:dn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:dn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:dn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:dn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:dn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(hn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(hn.matchPattern);if(!n)return null;const a=n[0],r=e.match(hn.parsePattern);if(!r)return null;let s=hn.valueCallback?hn.valueCallback(r[0]):r[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(a.length)}}),era:mn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let gn={};function fn(){return gn}Math.pow(10,8);const yn=6048e5,vn=Symbol.for("constructDateFrom");function wn(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&vn in e?e[vn](t):e instanceof Date?new e.constructor(t):new Date(t)}function En(e,t){return wn(t||e,e)}function xn(e){const t=En(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bn(e,t){const n=En(e,t?.in);return n.setHours(0,0,0,0),n}function Sn(e,t){const n=En(e,t?.in);return function(e,t,n){const[a,r]=function(e,...t){const n=wn.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t),s=bn(a),i=bn(r),o=+s-xn(s),l=+i-xn(i);return Math.round((o-l)/864e5)}(n,function(e,t){const n=En(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function kn(e,t){const n=fn(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=En(e,t?.in),s=r.getDay(),i=(s<a?7:0)+s-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Tn(e,t){return kn(e,{...t,weekStartsOn:1})}function Mn(e,t){const n=En(e,t?.in),a=n.getFullYear(),r=wn(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const s=Tn(r),i=wn(n,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const o=Tn(i);return n.getTime()>=s.getTime()?a+1:n.getTime()>=o.getTime()?a:a-1}function Cn(e,t){const n=En(e,t?.in),a=+Tn(n)-+function(e,t){const n=Mn(e,t),a=wn(t?.in||e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Tn(a)}(n);return Math.round(a/yn)+1}function Nn(e,t){const n=En(e,t?.in),a=n.getFullYear(),r=fn(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=wn(t?.in||e,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const o=kn(i,t),l=wn(t?.in||e,0);l.setFullYear(a,0,s),l.setHours(0,0,0,0);const c=kn(l,t);return+n>=+o?a+1:+n>=+c?a:a-1}function On(e,t){const n=En(e,t?.in),a=+kn(n,t)-+function(e,t){const n=fn(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Nn(e,t),s=wn(t?.in||e,0);return s.setFullYear(r,0,a),s.setHours(0,0,0,0),kn(s,t)}(n,t);return Math.round(a/yn)+1}function In(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Ln={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return In("yy"===t?a%100:a,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):In(n+1,2)},d:(e,t)=>In(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>In(e.getHours()%12||12,t.length),H:(e,t)=>In(e.getHours(),t.length),m:(e,t)=>In(e.getMinutes(),t.length),s:(e,t)=>In(e.getSeconds(),t.length),S(e,t){const n=t.length,a=e.getMilliseconds();return In(Math.trunc(a*Math.pow(10,n-3)),t.length)}},An={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return n.ordinalNumber(a,{unit:"year"})}return Ln.y(e,t)},Y:function(e,t,n,a){const r=Nn(e,a),s=r>0?r:1-r;return"YY"===t?In(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):In(s,t.length)},R:function(e,t){return In(Mn(e),t.length)},u:function(e,t){return In(e.getFullYear(),t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return In(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return In(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Ln.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return In(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=On(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):In(r,t.length)},I:function(e,t,n){const a=Cn(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):In(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Ln.d(e,t)},D:function(e,t,n){const a=Sn(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):In(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return In(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return In(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return In(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Ln.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ln.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):In(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):In(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ln.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ln.s(e,t)},S:function(e,t){return Ln.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Dn(a);case"XXXX":case"XX":return jn(a);default:return jn(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Dn(a);case"xxxx":case"xx":return jn(a);default:return jn(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pn(a,":");default:return"GMT"+jn(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pn(a,":");default:return"GMT"+jn(a,":")}},t:function(e,t,n){return In(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return In(+e,t.length)}};function Pn(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),s=a%60;return 0===s?n+String(r):n+String(r)+t+In(s,2)}function Dn(e,t){return e%60==0?(e>0?"-":"+")+In(Math.abs(e)/60,2):jn(e,t)}function jn(e,t=""){const n=e>0?"-":"+",a=Math.abs(e);return n+In(Math.trunc(a/60),2)+t+In(a%60,2)}const Zn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Fn=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},zn={p:Fn,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return Zn(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Zn(a,t)).replace("{{time}}",Fn(r,t))}},Rn=/^D+$/,Hn=/^Y+$/,$n=["D","DD","YY","YYYY"];function Un(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+En(e)));var t}const qn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bn=/^'([^]*?)'?$/,Vn=/''/g,Yn=/[a-zA-Z]/;function Gn(e,t,n){const a=fn(),r=n?.locale??a.locale??pn,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=En(e,n?.in);if(!Un(o))throw new RangeError("Invalid time value");let l=t.match(Wn).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,zn[t])(e,r.formatLong):e})).join("").match(qn).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Qn(e)};if(An[t])return{isToken:!0,value:e};if(t.match(Yn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return l.map((a=>{if(!a.isToken)return a.value;const s=a.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return Hn.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return Rn.test(e)}(s))&&function(e,t,n){const a=function(e,t,n){const a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(a),$n.includes(e))throw new RangeError(a)}(s,t,String(e)),(0,An[s[0]])(o,s,r.localize,c)})).join("")}function Qn(e){const t=e.match(Bn);return t?t[1].replace(Vn,"'"):e}const Kn=[{label:(0,d.__)("Custom date range","simple-history"),value:"customRange"},{label:(0,d.__)("Last day","simple-history"),value:"lastdays:1"},{label:(0,d.__)("Last 7 days","simple-history"),value:"lastdays:7"},{label:(0,d.__)("Last 14 days","simple-history"),value:"lastdays:14"},{label:(0,d.__)("Last 30 days","simple-history"),value:"lastdays:30"},{label:(0,d.__)("Last 60 days","simple-history"),value:"lastdays:60"}],Jn=[{label:(0,d.__)("Loading","simple-history"),value:""}],Xn=[{label:(0,d._x)("Debug","Log level in gui","simple-history"),value:"debug"},{label:(0,d._x)("Info","Log level in gui","simple-history"),value:"info"},{label:(0,d._x)("Notice","Log level in gui","simple-history"),value:"notice"},{label:(0,d._x)("Warning","Log level in gui","simple-history"),value:"warning"},{label:(0,d._x)("Error","Log level in gui","simple-history"),value:"error"},{label:(0,d._x)("Critical","Log level in gui","simple-history"),value:"critical"},{label:(0,d._x)("Alert","Log level in gui","simple-history"),value:"alert"},{label:(0,d._x)("Emergency","Log level in gui","simple-history"),value:"emergency"}],ea="yyyy-MM-dd'T'HH:mm:ss",ta=" - ",na=Gn(bn(new Date),ea),aa=Gn(function(e,t){const n=En(e,t?.in);return n.setHours(23,59,59,999),n}(new Date),ea);function ra({event:e}){window.location.hash=`#simple-history/event/${e.id}`}function sa(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ia(){return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.__experimentalDivider,{style:{color:"var(--sh-color-separator)"}}),(0,a.createElement)(r.__experimentalHStack,{spacing:5,justify:"space-around",style:{padding:"1em 0"}},(0,a.createElement)(r.ExternalLink,{title:(0,d.__)("Visit the Simple History blog for new features, tips and tricks","simple-history"),href:"https://simple-history.com/blog/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=blog_link"},(0,d.__)("Blog","simple-history")),(0,a.createElement)(r.ExternalLink,{title:(0,d.__)("Get help with common issues or ask questions","simple-history"),href:"https://simple-history.com/support/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=support_link"},(0,d.__)("Support","simple-history")),(0,a.createElement)(r.ExternalLink,{title:"View information about premium features",href:"https://simple-history.com/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_link"},(0,d.__)("Get Premium","simple-history"))))}const oa=window.wp.primitives;var la=n(848);const ca=(0,la.jsxs)(oa.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,la.jsx)(oa.Path,{d:"M7.5 12C7.5 11.1716 6.82843 10.5 6 10.5C5.17157 10.5 4.5 11.1716 4.5 12C4.5 12.8284 5.17157 13.5 6 13.5C6.82843 13.5 7.5 12.8284 7.5 12Z"}),(0,la.jsx)(oa.Path,{d:"M13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z"}),(0,la.jsx)(oa.Path,{d:"M19.5 12C19.5 11.1716 18.8284 10.5 18 10.5C17.1716 10.5 16.5 11.1716 16.5 12C16.5 12.8284 17.1716 13.5 18 13.5C18.8284 13.5 19.5 12.8284 19.5 12Z"})]}),ua=window.wp.hooks,da=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})}),ma=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})}),ha=(0,la.jsx)(oa.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,la.jsx)(oa.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8h1.5c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1z"})}),pa=(0,la.jsx)(oa.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,la.jsx)(oa.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})}),ga=function(e){const{variant:t,char:n=null}=e;let s,i;switch(t){case"unlocked":s=da;break;case"unlocked2":s=ma;break;case"unlocked3":s=ha;break;case"locked":s=pa;break;case"verified":i="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iNDgiPjxwYXRoIGQ9Im0zNDYtNjAtNzYtMTMwLTE1MS0zMSAxNy0xNDctOTYtMTEyIDk2LTExMS0xNy0xNDcgMTUxLTMxIDc2LTEzMSAxMzQgNjIgMTM0LTYyIDc3IDEzMSAxNTAgMzEtMTcgMTQ3IDk2IDExMS05NiAxMTIgMTcgMTQ3LTE1MCAzMS03NyAxMzAtMTM0LTYyLTEzNCA2MlptMjctNzkgMTA3LTQ1IDExMCA0NSA2Ny0xMDAgMTE3LTMwLTEyLTExOSA4MS05Mi04MS05NCAxMi0xMTktMTE3LTI4LTY5LTEwMC0xMDggNDUtMTEwLTQ1LTY3IDEwMC0xMTcgMjggMTIgMTE5LTgxIDk0IDgxIDkyLTEyIDEyMSAxMTcgMjggNzAgMTAwWm0xMDctMzQxWm0tNDMgMTMzIDIyNy0yMjUtNDUtNDEtMTgyIDE4MC05NS05OS00NiA0NSAxNDEgMTQwWiIvPjwvc3ZnPg==";break;default:s=null}return(0,a.createElement)("span",{className:"sh-PremiumFeatureBadge"},(0,d.__)("Premium","simple-history"),s?(0,a.createElement)(r.Icon,{icon:s,size:20}):null,i?(0,a.createElement)("img",{src:i,alt:"",style:{width:"20px",padding:"0 0 0 .5em"}}):null,n?(0,a.createElement)("span",{style:{padding:"0 0 0 .5em"}},n):null)},fa=window.wp.data,ya=window.wp.coreData,_a=e=>(0,fa.useSelect)((t=>{const n=t(ya.store).getCurrentUser()?.id;if(!n)return!1;const a=t(ya.store).getEntityRecord("root","user",n);return!(!a||!a.capabilities||!a.capabilities[e])}),[e]),va=(0,a.createElement)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"m387-412 35-114-92-74h114l36-112 36 112h114l-93 74 35 114-92-71-93 71ZM240-40v-309q-38-42-59-96t-21-115q0-134 93-227t227-93q134 0 227 93t93 227q0 61-21 115t-59 96v309l-240-80-240 80Zm240-280q100 0 170-70t70-170q0-100-70-170t-170-70q-100 0-170 70t-70 170q0 100 70 170t170 70ZM320-159l160-41 160 41v-124q-35 20-75.5 31.5T480-240q-44 0-84.5-11.5T320-283v124Zm160-62Z"})),wa=e=>{const{premiumFeatureModalTitle:t,premiumFeatureDescription:n,handleModalClose:s}=e,i={backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNHB4IiBmaWxsPSIjM2Y5MzQ5Ij48cGF0aCBkPSJtNDI0LTI5NiAyODItMjgyLTU2LTU2LTIyNiAyMjYtMTE0LTExNC01NiA1NiAxNzAgMTcwWm01NiAyMTZxLTgzIDAtMTU2LTMxLjVUMTk3LTE5N3EtNTQtNTQtODUuNS0xMjdUODAtNDgwcTAtODMgMzEuNS0xNTZUMTk3LTc2M3E1NC01NCAxMjctODUuNVQ0ODAtODgwcTgzIDAgMTU2IDMxLjVUNzYzLTc2M3E1NCA1NCA4NS41IDEyN1Q4ODAtNDgwcTAgODMtMzEuNSAxNTZUNzYzLTE5N3EtNTQgNTQtMTI3IDg1LjVUNDgwLTgwWm0wLTgwcTEzNCAwIDIyNy05M3Q5My0yMjdxMC0xMzQtOTMtMjI3dC0yMjctOTNxLTEzNCAwLTIyNyA5M3QtOTMgMjI3cTAgMTM0IDkzIDIyN3QyMjcgOTNabTAtMzIwWiIvPjwvc3ZnPg==)",backgroundSize:"1.5rem",lineHeight:"1.5rem",backgroundRepeat:"no-repeat",backgroundPosition:"center left",paddingLeft:"30px"};return(0,a.createElement)(r.Modal,{icon:(0,a.createElement)(r.Icon,{icon:va}),title:t,onRequestClose:s},n,(0,a.createElement)(r.__experimentalDivider,{margin:5,style:{color:"var(--sh-color-gray)"}}),(0,a.createElement)("p",{style:{fontWeight:"600",fontSize:"1rem"}},(0,d.__)("Simple History Premium also includes:","simple-history")),(0,a.createElement)("ul",{style:{listStyle:"disc",listStyleType:"none"}},(0,a.createElement)("li",{style:i},(0,d.__)("More details on Stats & Summaries page","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Add events manually using a GUI","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Stealth Mode GUI","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Export as CSV and JSON","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Option to set number of days to keep the log","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Limit number of failed login attempts that are logged","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Control how to store IP Addresses (anonymized or not)","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Show a map of where a failed login attempt happened","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Control what messages to log","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Remove premium upgrade banners","simple-history")),(0,a.createElement)("li",{style:i},(0,d.__)("Remove review and donate banners","simple-history"))),(0,a.createElement)(r.__experimentalSpacer,{margin:10}),(0,a.createElement)(r.__experimentalHStack,{spacing:3},(0,a.createElement)(r.Button,{variant:"primary",onClick:()=>{window.open("https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=premium-feature-modal"),s()},style:{backgroundColor:"var(--sh-color-green)"}},(0,d.__)("Upgrade to premium","simple-history")),(0,a.createElement)(r.Button,{variant:"tertiary",onClick:s},(0,d.__)("Maybe later","simple-history"))))},Ea=(0,o.createContext)(null),xa=({children:e})=>{const[t,n]=(0,o.useState)(!1),[r,s]=(0,o.useState)({premiumFeatureModalTitle:"",premiumFeatureDescription:""});return(0,a.createElement)(Ea.Provider,{value:{showModal:(e,t)=>{s({premiumFeatureModalTitle:e,premiumFeatureDescription:t}),n(!0)}}},e,t&&(0,a.createElement)(wa,{...r,handleModalClose:()=>{n(!1)}}))},ba=()=>{const e=(0,o.useContext)(Ea);if(!e)throw new Error("usePremiumFeaturesModal must be used within a PremiumFeaturesModalProvider");return e};function Sa(e){const{onCloseDropdownMenu:t}=e,{showModal:n}=ba(),s=_a("manage_options");if(!1===(0,ua.applyFilters)("SimpleHistory.showPremiumAddonsMenuGroup",!0))return null;const i=s?(0,a.createElement)(r.MenuItem,{onClick:()=>{t(),n((0,d.__)("Create log entry","simple-history"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"1.1rem",padding:"1rem 2rem"}},(0,d.__)("Create log entry manually is a premium feature.","simple-history")),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},(0,d.__)("This feature allows you to manually add custom events to the activity log, using a simple GUI.","simple-history")),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},(0,d.__)("Only administrators can add events, but all users who can view the log can see the added entries.","simple-history"))))},suffix:(0,a.createElement)(ga,null),info:(0,d.__)("Manually add custom events to the activity log","simple-history")},(0,d.__)("Create log entry","simple-history")):null;return(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(r.MenuItem,{onClick:()=>{t(),n("Export results",(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"var(--sh-font-size-large)",padding:"1rem 2rem"}},(0,a.createElement)("strong",null,"Export results")," is a premium feature."),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},"The export function supports CSV and JSON and gives you a downloaded file of the current search result.")))},suffix:(0,a.createElement)(ga,null),info:(0,d.__)("CSV and JSON supported","simple-history")},(0,d.__)("Export results","simple-history")),i)}function ka(e){const{eventsQueryParams:t,eventsTotal:n}=e;return(0,a.createElement)(r.DropdownMenu,{text:(0,d.__)("Event options","simple-history"),label:(0,d.__)("Actions (Export & other tools)","simple-history"),icon:ca,toggleProps:{iconPosition:"right",variant:"tertiary"}},(({onClose:e})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Sa,{onCloseDropdownMenu:e}),(0,a.createElement)(r.Slot,{name:"SimpleHistorySlotEventsControlBarMenu",fillProps:{onClose:e,eventsQueryParams:t,eventsTotal:n}}))))}function Ta(e){const{eventsIsLoading:t,eventsTotal:n,eventsQueryParams:s}=e,i=t?(0,a.createElement)(r.__experimentalText,null,(0,a.createElement)(r.Spinner,null),(0,d._x)("Loading","Message visible while waiting for log to load from server the first time","simple-history")):null,o=n?(0,a.createElement)(r.__experimentalText,null,(0,d.sprintf)(/* translators: %s: number of events */ /* translators: %s: number of events */
(0,d._n)("%s event","%s events",n,"simple-history"),n)):null;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{background:"white",padding:"6px 12px"}},(0,a.createElement)(r.Flex,{gap:2},(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.__experimentalHStack,{spacing:2},o,i)),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(ka,{eventsQueryParams:s,eventsTotal:n})))))}function Ma(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Ma(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Ca(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Ma(e))&&(a&&(a+=" "),a+=t);return a}const Na=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})});function Oa(e){const t=e.initiator_data||{},n=t.user_display_name||t.user_login||"",a=t.user_email?`(${t.user_email})`:"";let r="";if(e.date_local){const t=new Date(e.date_local.replace(" ","T")),n=t.getFullYear(),a=t.toLocaleString("default",{month:"long"}),s=t.getDate(),i=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});r=`${n}-${String(t.getMonth()+1).padStart(2,"0")}-${String(s).padStart(2,"0")} (${a.toLowerCase()} ${s} ${n}) at ${i}`}const s=e.via?` Via ${e.via}`:"";return`${[n,a].filter(Boolean).join(" ")+(r?`  ${r}`:"")+(s?` ${s}`:"")}\n${e.message||""}`}function Ia({event:e}){const t=(0,d.__)("Copy event message","simple-history"),n=(0,d.__)("Event message copied","simple-history"),[s,i]=(0,o.useState)(t),l=Oa(e),c=(0,u.useCopyToClipboard)(l,(()=>{i(n),setTimeout((()=>{i(t)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:Na,ref:c},s)}function La({event:e}){const t=(0,d.__)("Copy detailed event message","simple-history"),n=(0,d.__)("Event message copied","simple-history"),[s,i]=(0,o.useState)(t);let l="# Event Message\n\n";l+=Oa(e)+"\n\n";const c=function(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)return"";let t="\n\n| Key | Value |\n| --- | ----- |";for(const[n,a]of Object.entries(e))t+=`\n| ${n} | ${a} |`;return t}(e);c&&(l+="## Event Details Data\n",l+=c);const m=(0,u.useCopyToClipboard)(l,(()=>{i(n),setTimeout((()=>{i(t)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:Na,ref:m},s)}const Aa=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function Pa({event:e}){const t=e.permalink,n=(0,d.__)("Copy link to event details","simple-history"),s=(0,d.__)("Link copied to clipboard","simple-history"),[i,l]=(0,o.useState)(n),c=(0,u.useCopyToClipboard)(t,(()=>{l(s),setTimeout((()=>{l(n)}),2e3)}));return(0,a.createElement)(r.MenuItem,{icon:Aa,ref:c},i)}function Da({event:e,onClose:t}){return(0,a.createElement)(r.MenuItem,{icon:Na,onClick:()=>{ra({event:e}),t()}},(0,d.__)("View event details","simple-history"))}const ja=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})});function Za({event:e,eventsAdminPageURL:t}){const n="wp_user"===e?.initiator&&e?.initiator_data?.user_id&&e?.initiator_data?.user_email,s=e?.logger&&e?.message_key;return(0,a.createElement)(a.Fragment,null,n?(0,a.createElement)(r.MenuItem,{icon:ja,onClick:()=>{const n=JSON.stringify([{id:e.initiator_data.user_id,value:e.initiator_data.user_email}]),a=(0,m.addQueryArgs)(t,{users:n});window.location.href=a}},(0,d.__)("Find events by the same user","simple-history")):null,s?(0,a.createElement)(r.MenuItem,{icon:ja,onClick:()=>{const n=JSON.stringify([{value:e.message_key,search_options:[`${e.logger}:${e.message_key}`]}]),a=(0,m.addQueryArgs)(t,{messages:n});window.location.href=a}},(0,d.__)("Filter event by this event type","simple-history")):null)}const Fa=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})});function za({event:e,onClose:t,showPremiumModal:n,hasPremiumAddOn:s}){return s?null:(console.log("stick event component",e),e.sticky?null:(0,a.createElement)(r.MenuItem,{onClick:()=>{n((0,d.__)("Stick events","simple-history"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{style:{backgroundColor:"var(--sh-color-yellow)",fontSize:"var(--sh-font-size-large)",padding:"1rem 2rem"}},(0,a.createElement)("strong",null,"Sticking events")," using the GUI is a premium feature."),(0,a.createElement)("p",{style:{fontSize:"var(--sh-font-size-large)"}},"This feature lets you stick any event to the top of the list."))),t()},icon:Fa},(0,d.__)("Stick event to top","simple-history")))}function Ra({event:e,onClose:t}){const[n,s]=(0,o.useState)(!1),i=_a("manage_options");return e.sticky&&i?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.MenuItem,{onClick:()=>{s(!0)},icon:Fa},(0,d.__)("Unstick event","simple-history")),n?(0,a.createElement)(r.__experimentalConfirmDialog,{cancelButtonText:(0,d.__)("Nope","simple-history"),confirmButtonText:(0,d.__)("Yes, unstick it","simple-history"),onConfirm:async()=>{try{await c()({path:`/simple-history/v1/events/${e.id}/unstick`,method:"POST"})}catch(e){}finally{t()}},onCancel:()=>s(!1)},(0,d.sprintf)(/* translators: %s: The message of the event. */ /* translators: %s: The message of the event. */
(0,d.__)('Unstick event "%s"?',"simple-history"),e.message)):null):null}function Ha({event:e,eventVariant:t,eventsAdminPageURL:n,hasPremiumAddOn:s}){const{showModal:i}=ba();return"modal"===t?null:(0,a.createElement)("div",{className:"SimpleHistoryLogitem__actions"},(0,a.createElement)(r.DropdownMenu,{label:(0,d.__)("Actions","simple-history"),icon:ca,popoverProps:{placement:"left-start",inline:!0}},(({onClose:o})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Da,{event:e,eventVariant:t,onClose:o}),(0,a.createElement)(Pa,{event:e})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Ia,{event:e}),(0,a.createElement)(La,{event:e})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Za,{event:e,eventsAdminPageURL:n})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(Ra,{event:e,onClose:o}),(0,a.createElement)(za,{event:e,onClose:o,showPremiumModal:i,hasPremiumAddOn:s})),(0,a.createElement)(r.MenuGroup,null,(0,a.createElement)(r.Slot,{name:"SimpleHistorySlotEventActionsMenu",fillProps:{onClose:o,event:e,eventVariant:t}}))))))}function $a(e){const{event:t}=e,{details_html:n}=t;return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__details",dangerouslySetInnerHTML:{__html:n}})}const Ua=window.wp.date;function qa(e){const{children:t,className:n}=e,r=Ca("SimpleHistoryLogitem__inlineDivided",n);return(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)("span",{className:r},t))}function Wa(e){const{event:t,eventVariant:n}=e,s=(0,Ua.getSettings)(),i=s.formats.datetimeAbbreviated,l=s.formats.time,c=s.timezone.string,u=Intl.DateTimeFormat().resolvedOptions().timeZone,m=t.date_gmt+"+0000";let h;h=(0,Ua.date)("Y-m-d",m)===(0,Ua.date)("Y-m-d",void 0,"GMT")?(0,d.sprintf)(
// translators: %s is the time, like 8:36 pm.
// translators: %s is the time, like 8:36 pm.
(0,d.__)("Today %s","simple-history"),(0,Ua.dateI18n)(l,m,u)):(0,Ua.dateI18n)(i,m,u);const[p,g]=(0,o.useState)((()=>(0,Ua.humanTimeDiff)(t.date_local)));(0,o.useEffect)((()=>{const e=setInterval((()=>{g((0,Ua.humanTimeDiff)(t.date_local))}),1e3);return()=>{clearInterval(e)}}),[t.date_local]);const f=(0,a.createElement)(a.Fragment,null,(0,a.createElement)("table",null,(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,d.__)("Date","simple-history")),(0,a.createElement)("th",null,(0,d.__)("Description","simple-history")))),(0,a.createElement)("tbody",null,(0,a.createElement)("tr",null,(0,a.createElement)("td",null,t.date_gmt),(0,a.createElement)("td",null,(0,d.__)("GMT time","simple-history"))),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,t.date_local),(0,a.createElement)("td",null,(0,d.sprintf)(/* translators: 1: timezone string */ /* translators: 1: timezone string */
(0,d.__)("Website timezone (%1$s)","simple-history"),c))),c!==u&&(0,a.createElement)("tr",null,(0,a.createElement)("td",null,(0,Ua.dateI18n)("Y-m-d H:i:s",m,u)),(0,a.createElement)("td",null,(0,d.sprintf)(/* translators: 1: browser timezone */ /* translators: 1: browser timezone */
(0,d.__)("Browser local time (%1$s)","simple-history"),u)))))),y=(0,a.createElement)("time",{dateTime:t.date_gmt,className:"SimpleHistoryLogitem__when__liveRelative"},h," (",p,")");let _;return _="compact"===n?(0,a.createElement)("div",null,p):(0,a.createElement)(r.Tooltip,{text:f,delay:500},"modal"===n?(0,a.createElement)(r.__experimentalText,null,y):(0,a.createElement)(r.Button,{variant:"link",onClick:()=>{ra({event:t})}},y)),(0,a.createElement)(qa,{className:"SimpleHistoryLogitem__permalink SimpleHistoryLogitem__when"},_)}function Ba(e){const{event:t,eventVariant:n}=e,{initiator_data:s}=t;switch(t.initiator){case"wp_user":const e=s.user_display_name||s.user_login;let i;return i="compact"===n||"modal"===n?(0,a.createElement)("strong",null,e):(0,a.createElement)(r.Button,{href:s.user_profile_url,variant:"link"},(0,a.createElement)(a.Fragment,null,(0,a.createElement)("strong",null,e),"",(0,a.createElement)("span",null,"(",s.user_email,")"))),(0,a.createElement)(qa,null,i);case"web_user":return(0,a.createElement)(qa,null,(0,a.createElement)("strong",null,(0,d.__)("Anonymous web user","simple-history")));case"wp_cli":return(0,a.createElement)(qa,null,(0,a.createElement)("strong",null,(0,d.__)("WP-CLI","simple-history")));case"wp":return(0,a.createElement)(qa,null,(0,a.createElement)("strong",null,(0,d.__)("WordPress","simple-history")));case"other":return(0,a.createElement)(qa,null,(0,a.createElement)("strong",null,(0,d.__)("Other","simple-history")));default:return(0,a.createElement)(qa,null,"Unknown initiator: ",(0,a.createElement)("code",null,t.initiator))}}const Va=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),Ya=[{key:"hostname",label:(0,d.__)("Hostname:","simple-history")},{key:"org",label:(0,d.__)("Org:","simple-history")},{key:"city",label:(0,d.__)("City:","simple-history")},{key:"region",label:(0,d.__)("Region:","simple-history")},{key:"country",label:(0,d.__)("Country:","simple-history")},{key:"loc",label:(0,d.__)("Location:","simple-history")}];function Ga(e){const{header:t,ipAddress:n,mapsApiKey:s,hasPremiumAddOn:i}=e,[l,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[h,p]=(0,o.useState)(),g=`https://ipinfo.io/${n.replace(/\.x$/,".0")}`;(0,o.useEffect)((()=>{u&&async function(){const e=await fetch(g,{method:"GET",headers:{Accept:"application/json"}}),t=await e.json();p(t),m(!1)}()}),[u,n,g]);const f=(0,o.createInterpolateElement)((0,d.__)("That IP address does not seem like a public one. It is probably a <a>bogon ip address</a>.","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://ipinfo.io/bogon",target:"_blank",rel:"noopener noreferrer"})}),y=s&&!h?.bogon&&h?.loc?(0,a.createElement)("tr",null,(0,a.createElement)("td",{colSpan:2},(0,a.createElement)("a",{href:`https://www.google.com/maps/place/${h.loc}/@${h.loc},6z`,target:"_blank",rel:"noopener noreferrer"},(0,a.createElement)("img",{src:`https://maps.googleapis.com/maps/api/staticmap?center=${h.loc}&zoom=7&size=350x100&scale=2&sensor=false&key=${s}`,width:"350",height:"100",alt:"Google Map"})))):null,_=i?null:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{style:{display:"grid",placeItems:"center",width:"100%",height:100,backgroundImage:'url("/wp-content/plugins/simple-history/assets/images/map-img-blur.jpg")',backgroundSize:"cover",padding:"1rem"}},(0,a.createElement)(r.__experimentalText,null,(0,o.createInterpolateElement)((0,d.__)("See the location of the IP address on a map with <a>Simple History Premium</a> add-on.","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=ip-maps-feature#GoogleMaps",target:"_blank",rel:"noopener noreferrer"})})))),v=h?(0,a.createElement)(a.Fragment,null,_,(0,a.createElement)("table",{className:"SimpleHistoryIpInfoDropin__ipInfoTable"},(0,a.createElement)("tbody",null,y,(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,d.__)("IP address:","simple-history")),(0,a.createElement)("td",null,n)),(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,d.__)("Header:","simple-history")),(0,a.createElement)("td",null,(0,a.createElement)("code",null,t))),h.bogon?(0,a.createElement)("tr",null,(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},(0,d.__)("Error:","simple-history")),(0,a.createElement)("td",null,f)):null,Ya.map((e=>{const{key:t,label:n}=e,r=h[t];return r?(0,a.createElement)("tr",{key:t},(0,a.createElement)("td",{className:"SimpleHistoryIpInfoDropin__ipInfoTable__key"},n),(0,a.createElement)("td",null,r)):null})))),(0,a.createElement)(r.__experimentalText,{align:"right",isBlock:!0,variant:"muted",style:{marginTop:10}},(0,o.createInterpolateElement)((0,d.__)("IP info provided by <a>ipinfo.io</a>","simple-history"),{a:(0,a.createElement)(r.ExternalLink,{href:"https://ipinfo.io/",target:"_blank",rel:"noopener noreferrer"})}))):null;return(0,a.createElement)(r.Button,{title:t,onClick:e=>{"BUTTON"!==e.target.nodeName||(l?c(!1):(c(!0),m(!0)))},variant:"link"},n,l?(0,a.createElement)(r.Popover,{noArrow:!1,offset:10,placement:"top",animate:!0,shift:!0},(0,a.createElement)("div",{style:{minWidth:350,minHeight:100,padding:10,overflow:"hidden"}},(0,a.createElement)(r.Flex,{align:"start"},(0,a.createElement)("div",null,u?(0,a.createElement)("p",null,(0,d.__)("Getting IP info","simple-history")):(0,a.createElement)(a.Fragment,null,v)),(0,a.createElement)(r.Button,{icon:Va,onClick:()=>c(!1)})))):null)}function Qa(e){const{event:t,mapsApiKey:n,hasPremiumAddOn:r}=e,{ip_addresses:s}=t;if(!s)return null;const i=Object.keys(s).length;if(0===i)return null;const o=(0,d._n)("IP address:","IP addresses:",i,"simple-history"),l=[];let c=0;for(const[e,t]of Object.entries(s))l.push((0,a.createElement)(a.Fragment,null,(0,a.createElement)(Ga,{key:e,header:e,ipAddress:t,mapsApiKey:n,hasPremiumAddOn:r})," ",c<i-1?", ":"")),c++;return(0,a.createElement)(qa,null,o," ",l)}function Ka(e){const{event:t}=e,{via:n}=t;return n?(0,a.createElement)(qa,null,n):null}function Ja(e){const{event:t,eventVariant:n,hasExtendedSettingsAddOn:r,hasPremiumAddOn:s}=e,{mapsApiKey:i}=e;return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__header"},(0,a.createElement)(Ba,{event:t,eventVariant:n}),(0,a.createElement)(Wa,{event:t,eventVariant:n}),(0,a.createElement)(Qa,{event:t,mapsApiKey:i,hasExtendedSettingsAddOn:r,hasPremiumAddOn:s}),(0,a.createElement)(Ka,{event:t}))}function Xa(e){const{event:t}=e,{initiator_data:n}=t;return(0,a.createElement)("img",{className:"SimpleHistoryLogitem__senderImage",src:n.user_avatar_url,alt:""})}function er(e){const{event:t}=e,{initiator_data:n}=t;return(0,a.createElement)("img",{className:"SimpleHistoryLogitem__senderImage",src:n.user_avatar_url,alt:""})}function tr(){return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__senderImage"})}function nr(e){const{event:t}=e,{initiator:n}=t;switch(n){case"wp_user":return(0,a.createElement)(Xa,{event:t});case"web_user":return(0,a.createElement)(er,{event:t});case"wp_cli":case"wp":case"other":return(0,a.createElement)(tr,{event:t});default:return(0,a.createElement)("p",null,'Add image for initiator "',n,'"')}}function ar(e){const{occasions:t,isLoadingOccasions:n,subsequent_occasions_count:r,occasionsCountMaxReturn:s}=e,i=Ca({SimpleHistoryLogitems:!0,SimpleHistoryLogitem__occasionsItems:!0,haveOccasionsAdded:!1===n});return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasionsItemsWrap",style:{marginTop:"1rem",marginLeft:"-4.5rem",marginRight:"-1.5rem"}},(0,a.createElement)("ul",{className:i},t.map((e=>(0,a.createElement)(dr,{key:e.id,event:e}))),r>s?(0,a.createElement)("li",{className:"SimpleHistoryLogitem SimpleHistoryLogitem--occasion SimpleHistoryLogitem--occasion-tooMany"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol"}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text"},(0,d.__)("Sorry, but there are too many similar events to show.","simple-history")))):null))}function rr(e){const{event:t,hasExtendedSettingsAddOn:n,hasPremiumAddOn:s,eventsSettingsPageURL:i}=e;if("SimpleUserLogger"!==t.logger)return null;if("user_login_failed"!==t.message_key&&"user_unknown_login_failed"!==t.message_key)return null;const o=n||s?(0,a.createElement)("a",{href:`${i}&selected-sub-tab=failed-login-attempts`},(0,d.__)("Configure failed login attempts","simple-history")):(0,a.createElement)(r.ExternalLink,{href:"https://simple-history.com/add-ons/premium/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=premium_upsell&utm_content=login-attempts-limit#limit-number-of-failed-login-attempts"},(0,d.__)("Limit logged login attempts (Premium)","simple-history"));return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasionsAddOns"},(0,a.createElement)("p",{className:"SimpleHistoryLogitem__occasionsAddOnsText"},o))}function sr(e){const{event:t,eventVariant:n,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l}=e,{subsequent_occasions_count:u}=t,[h,p]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),[y,_]=(0,o.useState)([]);if(1===u)return null;if("modal"===n)return null;const v=(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"SimpleHistoryLogitem__occasions"},(0,a.createElement)(r.Button,{variant:"link",onClick:e=>{(async()=>{p(!0);const e={type:"occasions",logRowID:t.id,occasionsID:t.occasions_id,occasionsCount:u-1,occasionsCountMaxReturn:15,per_page:5,_fields:["id","date_local","date_gmt","message","message_html","details_data","details_html","loglevel","occasions_id","subsequent_occasions_count","initiator","initiator_data","via"]},n=await c()({path:(0,m.addQueryArgs)("/simple-history/v1/events",e),parse:!1}),a=await n.json();_(a),p(!1),f(!0)})(),e.preventDefault()}},(0,d.sprintf)(/* translators: %s: number of similar events */ /* translators: %s: number of similar events */
(0,d._n)("+%1$s similar event","+%1$s similar events",u,"simple-history"),u)),(0,a.createElement)(rr,{event:t,eventsSettingsPageURL:l,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i})));return(0,a.createElement)("div",null,g||h?null:v,h?(0,a.createElement)("span",null,(0,d.__)("Loading","simple-history")):null,g?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",null,(0,d.sprintf)(/* translators: %s: number of similar events */ /* translators: %s: number of similar events */
(0,d.__)("Showing %1$s more","simple-history"),u-1)),(0,a.createElement)(ar,{isLoadingOccasions:h,isShowingOccasions:g,occasions:y,subsequent_occasions_count:u,occasionsCountMaxReturn:15})):null)}const ir=(0,la.jsx)(oa.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,la.jsx)(oa.Path,{d:"M10.97 10.159a3.382 3.382 0 0 0-2.857.955l1.724 1.723-2.836 2.913L7 17h1.25l2.913-2.837 1.723 1.723a3.38 3.38 0 0 0 .606-.825c.33-.63.446-1.343.35-2.032L17 10.695 13.305 7l-2.334 3.159Z"})});function or({event:e}){const t=Ca("SimpleHistoryLogitem--logleveltag",`SimpleHistoryLogitem--logleveltag-${e.loglevel}`);return(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text"},(0,a.createElement)(lr,{event:e}),(0,a.createElement)("span",{dangerouslySetInnerHTML:{__html:e.message_html}})," ",(0,a.createElement)("span",{className:t},e.loglevel))}function lr({event:e}){const t=Ca("SimpleHistoryLogitem--sticky");return e.sticky?(0,a.createElement)(r.Tooltip,{text:(0,d.__)("Sticky","simple-history")},(0,a.createElement)("span",{className:t},(0,a.createElement)(r.VisuallyHidden,{as:"span"},(0,d.__)("Sticky","simple-history")),(0,a.createElement)(r.Icon,{icon:ir}))):null}function cr({event:e}){let t="";if(!e)return"";if(e.sticky_appended)t=(0,d.__)("Sticky","simple-history");else{t=(0,Ua.dateI18n)((0,Ua.__experimentalGetSettings)().formats.date,e.date_local);const n=new Date(e.date_local).toISOString().split("T")[0],a=(new Date).toISOString().split("T")[0],r=new Date((new Date).setDate((new Date).getDate()-1)).toISOString().split("T")[0];n===a?t=(0,d.__)("Today","simple-history"):n===r&&(t=(0,d.__)("Yesterday","simple-history"))}return t}function ur({event:e,eventVariant:t,prevEvent:n,loopIndex:r}){if("modal"===t)return null;const s=cr({event:e,loopIndex:r}),i=s!==cr({event:n,loopIndex:r-1}),o=Ca({SimpleHistoryEventSeparator:!0,"SimpleHistoryEventSeparator--hasLabel":i});return(0,a.createElement)("div",{className:o},i?(0,a.createElement)("span",{className:"SimpleHistoryEventSeparator__label"},s):null)}function dr(e){const{event:t,variant:n="normal",mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,isNewAfterFetchNewEvents:o,eventsSettingsPageURL:l,eventsAdminPageURL:c,prevEvent:u,nextEvent:d,loopIndex:m}=e,h=Ca("SimpleHistoryLogitem",`SimpleHistoryLogitem--variant-${n}`,`SimpleHistoryLogitem--loglevel-${t.loglevel}`,`SimpleHistoryLogitem--logger-${t.logger}`,`SimpleHistoryLogitem--initiator-${t.initiator}`,{"SimpleHistoryLogitem--is-sticky":t.sticky,"SimpleHistoryLogitem--newRowSinceReload":o});return(0,a.createElement)("li",{className:h},(0,a.createElement)(ur,{event:t,eventVariant:n,prevEvent:u,nextEvent:d,loopIndex:m}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol"},(0,a.createElement)(nr,{event:t})),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)(Ja,{event:t,eventVariant:n,mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i}),(0,a.createElement)(or,{event:t,eventVariant:n}),(0,a.createElement)($a,{event:t,eventVariant:n}),(0,a.createElement)(sr,{event:t,eventVariant:n,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l}),(0,a.createElement)(Ha,{event:t,eventVariant:n,eventsAdminPageURL:c,hasPremiumAddOn:i})))}function mr(e){const{events:t,prevEventsMaxId:n,mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsIsLoading:o,eventsSettingsPageURL:l,eventsAdminPageURL:c}=e;if(!t||0===t.length)return null;const u=Ca({SimpleHistoryLogitems:!0,"is-loading":o,"is-loaded":!o});return(0,a.createElement)("ul",{className:u},t.map(((e,o)=>(0,a.createElement)(dr,{key:`${e.id}-${o}`,event:e,loopIndex:o,prevEvent:t[o-1],nextEvent:t[o+1],mapsApiKey:r,hasExtendedSettingsAddOn:s,hasPremiumAddOn:i,eventsSettingsPageURL:l,eventsAdminPageURL:c,isNewAfterFetchNewEvents:e.id>n}))))}function hr(e){const{index:t}=e,n={backgroundColor:"var(--sh-color-gray-4)",width:sa(40,50)+"%",height:"1rem"},r={backgroundColor:"var(--sh-color-gray-4)",width:sa(55,75)+"%",height:"1.25rem"},s={backgroundColor:"var(--sh-color-gray-4)",width:sa(50,60)+"%",height:"3rem"};return(0,a.createElement)("li",{key:t,className:"SimpleHistoryLogitem SimpleHistoryLogitem--variant-normal SimpleHistoryLogitem--loglevel-debug SimpleHistoryLogitem--logger-WPHTTPRequestsLogger SimpleHistoryLogitem--initiator-wp_user"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__firstcol",style:{width:32,height:32,borderRadius:"50%",backgroundColor:"var(--sh-color-gray-4)"}}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__secondcol"},(0,a.createElement)("div",{className:"SimpleHistoryLogitem__header",style:n}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__text",style:r}),(0,a.createElement)("div",{className:"SimpleHistoryLogitem__details",style:s})))}function pr(e){var t;const{eventsIsLoading:n,events:r,pagerSize:s}=e;if(!n||r.length>0)return null;const i=null!==(t=s.page)&&void 0!==t?t:0;return(0,a.createElement)("div",null,(0,a.createElement)("ul",{className:"SimpleHistoryLogitems"},Array.from({length:i}).map(((e,t)=>(0,a.createElement)(hr,{key:t,index:t})))))}const gr=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),fr=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),yr=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"M250-250v-460h60v460h-60Zm430-3.85L453.85-480 680-706.15 722.15-664l-184 184 184 184L680-253.85Z"})),_r=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368"},(0,a.createElement)("path",{d:"M280-253.85 237.85-296l184-184-184-184L280-706.15 506.15-480 280-253.85ZM650-250v-460h60v460h-60Z"}));function vr(e){const{page:t,totalPages:n,setPage:s}=e;if(!t||!n)return null;const i=[{label:(0,d.__)("","simple-history"),value:"custom"},...[...Array(n)].map(((e,t)=>({label:t+1,value:t+1})))];return(0,a.createElement)("div",null,(0,a.createElement)(r.__experimentalHStack,{spacing:4,justify:"center"},(0,a.createElement)(r.Button,{label:(0,d.__)("First page","simple-history"),size:"compact",onClick:()=>s(1),disabled:1===t,accessibleWhenDisabled:!0,icon:yr}),(0,a.createElement)(r.Button,{label:(0,d.__)("Previous page","simple-history"),size:"compact",onClick:()=>s(t-1),disabled:1===t,accessibleWhenDisabled:!0,icon:gr}),(0,a.createElement)(r.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2},(0,o.createInterpolateElement)((0,d.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,d._x)("Page <CurrentPageControl /> of %s","paging","simple-history"),n),{CurrentPageControl:(0,a.createElement)(r.SelectControl,{"aria-label":(0,d.__)("Current page","simple-history"),value:t,options:i,onChange:e=>{let t;t="custom"===e?prompt("Enter page number",1):e,t=parseInt(t,10),isNaN(t)||t<1?t=1:t>n&&(t=n),s(t)},size:"compact",__nextHasNoMarginBottom:!0})})),(0,a.createElement)(r.Button,{label:(0,d.__)("Next page","simple-history"),size:"compact",onClick:()=>s(t+1),disabled:t===n,accessibleWhenDisabled:!0,icon:fr}),(0,a.createElement)(r.Button,{label:(0,d.__)("Last page","simple-history"),size:"compact",onClick:()=>s(n),disabled:t===n,accessibleWhenDisabled:!0,icon:_r})))}function wr(e){const{eventsLoadingHasErrors:t,eventsLoadingErrorDetails:n}=e;if(!t)return null;const s=(0,m.addQueryArgs)("https://simple-history.com/support/load-events-error/",{utm_source:"wordpress_admin",utm_medium:"Simple_History",utm_campaign:"premium_upsell",utm_content:"fetch-events-error",error:JSON.stringify(n)});return(0,a.createElement)("div",{style:{margin:"1rem"}},(0,a.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,a.createElement)(r.__experimentalVStack,{spacing:2},(0,a.createElement)(r.__experimentalText,{as:"p"},(0,d.__)("There was an error loading the events.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,d.__)("This can often be resolved by refreshing your browser. If the problem persists, please try again later.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,a.createElement)(r.Button,{variant:"secondary",onClick:()=>window.location.reload()},(0,d.__)("Reload page","simple-history"))),(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,d.__)("View error details","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"pre",style:{padding:"1rem"}},JSON.stringify(n,null,2)),(0,a.createElement)(r.__experimentalText,{as:"p"},(0,a.createElement)(r.ExternalLink,{href:s},"Search for error and solutions online.")),(0,a.createElement)(r.__experimentalText,{variant:"muted",as:"p"},"Error above will be sent to simple-history.com. Make sure it don't contain any personal or sensitive information.")))))}function Er(e){const{eventsIsLoading:t,events:n}=e;if(t)return null;if(n.length&&n.length>0)return null;const s=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#000000"},(0,a.createElement)("path",{d:"M280-80q-83 0-141.5-58.5T80-280q0-83 58.5-141.5T280-480q83 0 141.5 58.5T480-280q0 83-58.5 141.5T280-80Zm544-40L568-376q-12-13-25.5-26.5T516-428q38-24 61-64t23-88q0-75-52.5-127.5T420-760q-75 0-127.5 52.5T240-580q0 6 .5 11.5T242-557q-18 2-39.5 8T164-535q-2-11-3-22t-1-23q0-109 75.5-184.5T420-840q109 0 184.5 75.5T680-580q0 43-13.5 81.5T629-428l251 252-56 56Zm-615-61 71-71 70 71 29-28-71-71 71-71-28-28-71 71-71-71-28 28 71 71-71 71 28 28Z"})),i={fontSize:"1rem",fontWeight:"500",marginBlock:".25rem",color:"var(--sh-color-gray-2)"};return(0,a.createElement)("div",{style:{marginBlock:"2rem",display:"flex",flexDirection:"column",alignItems:"center"}},(0,a.createElement)(r.Icon,{icon:s,fill:"var(--sh-color-gray-2)",size:50,style:{marginBottom:"2rem"}}),(0,a.createElement)(r.__experimentalText,{as:"p",style:i},(0,d.__)("Your search did not match any history events.","simple-history")),(0,a.createElement)(r.__experimentalText,{as:"p",style:i},(0,d.__)("Try different search options or clear the search.","simple-history")))}function xr(e){const{events:t,page:n,pagerSize:s,setPage:i,eventsIsLoading:o,eventsMeta:l,prevEventsMaxId:c,mapsApiKey:u,hasExtendedSettingsAddOn:d,hasPremiumAddOn:m,eventsSettingsPageURL:h,eventsAdminPageURL:p,eventsLoadingHasErrors:g,eventsLoadingErrorDetails:f}=e,y=l.totalPages;return(0,a.createElement)("div",{style:{backgroundColor:"white",minHeight:"300px",display:"flex",flexDirection:"column",paddingTop:"30px"}},(0,a.createElement)(pr,{eventsIsLoading:o,pagerSize:s,events:t}),(0,a.createElement)(Er,{eventsIsLoading:o,events:t}),(0,a.createElement)(wr,{eventsLoadingHasErrors:g,eventsLoadingErrorDetails:f}),(0,a.createElement)(mr,{eventsIsLoading:o,events:t,prevEventsMaxId:c,mapsApiKey:u,hasPremiumAddOn:m,hasExtendedSettingsAddOn:d,eventsSettingsPageURL:h,eventsAdminPageURL:p}),(0,a.createElement)(r.__experimentalSpacer,{margin:4}),(0,a.createElement)(vr,{page:n,totalPages:y,setPage:i}),(0,a.createElement)(r.__experimentalSpacer,{paddingBottom:4}))}function br(e){const{eventId:t,closeModal:n=null}=e,[s,i]=(0,o.useState)(null),[l,u]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async()=>{u(!0);const e=await c()({path:(0,m.addQueryArgs)("/simple-history/v1/events/"+t,{_fields:["id","logger","occasions_id","subsequent_occasions_count","initiator_data","loglevel","message","message_html","message_key","details_data","details_html","message_uninterpolated","date_local","date_gmt","message","context","ip_addresses","details_data","via","initiator"]}),parse:!1}),n=await e.json();i(n),u(!1)})()}),[t]),(0,a.createElement)(r.Modal,{title:(0,d.__)("Event details","simple-history"),onRequestClose:n},(0,a.createElement)("div",{className:"SimpleHistory__modal"},l?(0,d.__)("Loading detailed events data","simple-history"):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(dr,{event:s,variant:"modal"}),(0,a.createElement)("p",null,(0,a.createElement)(r.__experimentalText,null,(0,d.__)("This is potentially useful information and meta data that a logger has saved.","simple-history"))),(0,a.createElement)("h2",null,(0,d.__)("Event details","simple-history")),(0,a.createElement)("table",{className:"SimpleHistoryLogitem__moreDetailsContext"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,d.__)("Key","simple-history")),(0,a.createElement)("th",null,(0,d.__)("Value","simple-history")))),(0,a.createElement)("tbody",null,(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"id"),(0,a.createElement)("td",null,s.id)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"logger"),(0,a.createElement)("td",null,s.logger)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"level"),(0,a.createElement)("td",null,s.loglevel)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"date_local"),(0,a.createElement)("td",null,s.date_local)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"date_gmt"),(0,a.createElement)("td",null,s.date_gmt)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"message"),(0,a.createElement)("td",null,s.message)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"message_uninterpolated"),(0,a.createElement)("td",null,s.message_uninterpolated)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"initiator"),(0,a.createElement)("td",null,s.initiator)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"occasions_id"),(0,a.createElement)("td",null,s.occasions_id)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"subsequent_occasions_count"),(0,a.createElement)("td",null,s.subsequent_occasions_count)),(0,a.createElement)("tr",null,(0,a.createElement)("td",null,"via"),(0,a.createElement)("td",null,s.via)))),(0,a.createElement)("h2",null,(0,d.__)("Event context","simple-history")),(0,a.createElement)("table",{className:"SimpleHistoryLogitem__moreDetailsContext"},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,d.__)("Key","simple-history")),(0,a.createElement)("th",null,(0,d.__)("Value","simple-history")))),(0,a.createElement)("tbody",null,Object.entries(s.context||{}).map((([e,t])=>(0,a.createElement)("tr",{key:e},(0,a.createElement)("td",null,e),(0,a.createElement)("td",null,t)))))))))}function Sr(){const e=(()=>{const[e,t]=(0,o.useState)(window.location.hash),n=()=>{t(window.location.hash)};return(0,o.useEffect)((()=>(window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)})),[]),e})(),[t,n]=(0,o.useState)(!1),[r,s]=(0,o.useState)(null);(0,o.useEffect)((()=>{const t=e.match(/^#simple-history\/event\/(\d+)/);null!==t?(s(parseInt(t[1],10)),n(!0)):n(!1)}),[e]);return t?(0,a.createElement)(br,{eventId:r,closeModal:()=>{n(!1),window.location.hash=""}}):null}function kr(e){const{dateOptions:t,selectedDateOption:n,setSelectedDateOption:s,searchText:i,setSearchText:l,selectedCustomDateFrom:c,setSelectedCustomDateFrom:u,selectedCustomDateTo:m,setSelectedCustomDateTo:h}=e,p=e=>e>new Date;return(0,o.useEffect)((()=>{c&&m&&c>m&&h(c)}),[c,m,h]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Dates","simple-history")),(0,a.createElement)("div",{style:{display:"inline-block",width:"310px"}},(0,a.createElement)(r.SelectControl,{__nextHasNoMarginBottom:!0,options:t,value:n,onChange:e=>s(e)}))),"customRange"===n?(0,a.createElement)((function(){const e=(0,Ua.getSettings)().l10n.startOfWeek;return(0,a.createElement)(r.Flex,{justify:"start",gap:"15"},(0,a.createElement)(r.FlexItem,{style:{width:"95px"}}),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.BaseControl,{label:(0,d.__)("From date","simple-history")},(0,a.createElement)(r.DatePicker,{id:"simple-history-datepicker-from",startOfWeek:e,onChange:e=>{const t=new Date(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));u(n)},currentDate:c,isInvalidDate:p}))),(0,a.createElement)(r.FlexItem,null,(0,a.createElement)(r.BaseControl,{label:(0,d.__)("To date","simple-history")},(0,a.createElement)(r.DatePicker,{startOfWeek:e,onChange:e=>{const t=new Date(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));h(n)},currentDate:m,isInvalidDate:p}))))}),null):null,(0,a.createElement)("p",null,(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Containing words","simple-history")),(0,a.createElement)("input",{type:"search",className:"SimpleHistoryFilterDropin-searchInput",value:i,onChange:e=>l(e.target.value)})))}function Tr(e){const{selectedLogLevels:t,setSelectedLogLevels:n,selectedMessageTypes:s,setSelectedMessageTypes:i,selectedUsersWithId:l,setSelectedUsersWithId:u,selectedInitiator:h,setSelectedInitiator:p,searchOptions:g}=e,[f,y]=(0,o.useState)([]),[_,v]=(0,o.useState)([]),[w,E]=(0,o.useState)([]);(0,o.useEffect)((()=>{if(g?.initiators){const e=g.initiators.filter(Boolean).map((e=>({value:e.label,initiator_key:e.value,search_options:[e.label]})));E(e)}}),[g]);const x=Xn.map((e=>e.label));return(0,o.useEffect)((()=>{if(!g?.loggers)return;const e=[];g.loggers.forEach((t=>{const n=t.search_data||{};n.search&&(e.push({value:n.search.label,search_options:n.search.options}),n?.search_all?.label&&e.push({value:ta+n.search_all.label,search_options:n.search_all.options}),n?.search_options&&n.search_options.forEach((t=>{e.push({value:ta+t.label,search_options:t.options})})))})),y(e)}),[g]),(0,a.createElement)("div",null,(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Log levels","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,placeholder:(0,d.__)("All log levels","simple-history"),onChange:e=>{n(e)},suggestions:x,value:t})))),(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Message types","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:"",placeholder:(0,d.__)("All message types","simple-history"),onChange:e=>{(e=>{e.map(((t,n)=>{if("string"==typeof t){const a=f.find((e=>e.value.trim()===t.trim()));a&&(e[n]=a)}return t})),i(e)})(e)},value:s.map((e=>(e.value=e.value.replace(ta,""),e))),suggestions:f.map((e=>e.value)),__experimentalRenderItem:e=>e.item.startsWith(ta)?e.item:(0,a.createElement)("strong",null,e.item)})))),(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Users","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:"",placeholder:(0,d.__)("All users","simple-history"),onChange:e=>{(e=>{e.map(((t,n)=>{if("string"==typeof t){const a=_.find((e=>e.value===t));a&&(e[n]=a)}return t})),u(e)})(e)},onInputChange:e=>{(async e=>{e.length<2||c()({path:(0,m.addQueryArgs)("/simple-history/v1/search-user",{q:e})}).then((e=>{const t=[];e.forEach((e=>{t.push({id:e.id,value:e.display_name+" ("+e.user_email+")"})})),v(t)}))})(e)},suggestions:_.map((e=>e.value)),value:l})),(0,a.createElement)(r.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,d.__)("Enter 2 or more characters to search for users.","simple-history")}))),(0,a.createElement)(r.Flex,{align:"top",gap:"0",style:{margin:"0.5em 0"}},(0,a.createElement)(r.FlexItem,{style:{margin:".5em 0"}},(0,a.createElement)("div",{className:"SimpleHistory__filters__filterLabel"},(0,d.__)("Initiators","simple-history"))),(0,a.createElement)(r.FlexBlock,null,(0,a.createElement)("div",{className:"SimpleHistory__filters__loglevels__select",style:{width:"310px",backgroundColor:"white"}},(0,a.createElement)(r.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:"",placeholder:(0,d.__)("All initiators","simple-history"),onChange:e=>{(e=>{e.map(((t,n)=>{if("string"==typeof t){const a=w.find((e=>e.value.trim()===t.trim()));a&&(e[n]=a)}return t})),p(e)})(e)},value:h,suggestions:w.map((e=>e.value)),help:(0,d.__)("Learn more about <a>what an initiator is</a>.","simple-history")})),(0,a.createElement)(r.ExternalLink,{href:"https://simple-history.com/support/what-is-an-initiator/?utm_source=wordpress_admin&utm_medium=Simple_History&utm_campaign=documentation&utm_content=initiator-filter-help",target:"_blank",rel:"noopener noreferrer"},(0,d.__)("About initiators and how they work","simple-history")))))}function Mr(e){const{onReload:t,selectedLogLevels:n,setSelectedLogLevels:s,selectedMessageTypes:i,setSelectedMessageTypes:l,selectedDateOption:u,setSelectedDateOption:h,enteredSearchText:p,setEnteredSearchText:g,selectedCustomDateFrom:f,setSelectedCustomDateFrom:y,selectedCustomDateTo:_,setSelectedCustomDateTo:v,selectedUsersWithId:w,setSelectedUsersWithId:E,selectedInitiator:x,setSelectedInitiator:b,searchOptionsLoaded:S,setSearchOptionsLoaded:k,setPagerSize:T,setMapsApiKey:M,setHasExtendedSettingsAddOn:C,setHasPremiumAddOn:N,setIsExperimentalFeaturesEnabled:O,setEventsAdminPageURL:I,setEventsSettingsPageURL:L}=e,A=(0,o.useCallback)((()=>n.length>0||i.length>0||w.length>0||x.length>0),[n,i,w,x]),[P,D]=(0,o.useState)((()=>A())),[j,Z]=(0,o.useState)(null),F=null!==j?j:P,[z,R]=(0,o.useState)(Jn),[H,$]=(0,o.useState)(null);(0,o.useEffect)((()=>{A()&&!P&&D(!0)}),[A,P]),(0,o.useEffect)((()=>{c()({path:(0,m.addQueryArgs)("/simple-history/v1/search-options",{})}).then((e=>{$(e);const t=e.dates.result_months.map((e=>({label:(0,Ua.dateI18n)("F Y",e.yearMonth),value:`month:${e.yearMonth}`}))),n={label:(0,d.__)("All dates","simple-history"),value:"allDates"};R([...Kn,...t,n]),u||h(`lastdays:${e.dates.daysToShow}`),T(e.pager_size),M(e.maps_api_key),C(e.addons.has_extended_settings_add_on),N(e.addons.has_premium_add_on),O(e.experimental_features_enabled),I(e.events_admin_page_url),L(e.settings_page_url),k(!0)}))}),[T,k,h,M,C,N,O,I,L,u]);const U=F?(0,d.__)("Collapse search options","simple-history"):(0,d.__)("Show search options","simple-history"),q=S?o.Fragment:r.Disabled;return(0,a.createElement)(q,null,(0,a.createElement)("div",{className:"SimpleHistory-filters"},(0,a.createElement)(kr,{dateOptions:z,selectedDateOption:u,setSelectedDateOption:h,searchText:p,setSearchText:g,selectedCustomDateFrom:f,setSelectedCustomDateFrom:y,selectedCustomDateTo:_,setSelectedCustomDateTo:v}),F?(0,a.createElement)(Tr,{selectedLogLevels:n,setSelectedLogLevels:s,selectedMessageTypes:i,setSelectedMessageTypes:l,setSelectedUsersWithId:E,selectedUsersWithId:w,selectedInitiator:x,setSelectedInitiator:b,searchOptions:H}):null,(0,a.createElement)("p",{className:"SimpleHistory__filters__filterSubmitWrap"},(0,a.createElement)(r.Button,{variant:"secondary",onClick:t},(0,d.__)("Search events","simple-history")),(0,a.createElement)(r.Button,{variant:"tertiary",onClick:()=>{Z(!(null!==j?j:P))},className:"SimpleHistoryFilterDropin-showMoreFilters SimpleHistoryFilterDropin-showMoreFilters--first js-SimpleHistoryFilterDropin-showMoreFilters"},U))))}const Cr=(0,la.jsx)(oa.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,la.jsx)(oa.Path,{d:"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z"})});function Nr(e){const{eventsQueryParams:t,eventsMaxId:n,onReload:s}=e,[i,l]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(!t||!n)return;const e=setInterval((async()=>{const e={...t,since_id:n,_fields:null};try{const t=await c()({path:(0,m.addQueryArgs)("/simple-history/v1/events/has-updates",e),parse:!1}),n=(await t.json()).new_events_count;n>0&&l(n)}catch(e){console.error("Error when checking for new events:",e)}}),3e4);return()=>{clearInterval(e)}}),[t,n,i]);const u=(0,d.sprintf)(
// translators: %s: number of new events
// translators: %s: number of new events
(0,d._n)("%s new event","%s new events",i,"simple-history"),i);return(0,o.useEffect)((()=>{!function(e){let t=document.title;t=t.replace(/^\([\d!]+\) /,""),e&&(t="("+e+") "+t),document.title=t}(i)}),[i]),(0,a.createElement)("div",{className:Ca({SimpleHistoryDropin__NewRowsNotifier:!0,"SimpleHistoryDropin__NewRowsNotifier--haveNewRows":i>0})},(0,a.createElement)(r.Button,{icon:Cr,onClick:()=>{s(),l(0)},label:(0,d.__)("Click to load new events","simple-history"),showTooltip:!0,variant:"tertiary",style:{width:"100%",justifyContent:"center"}},u))}const Or=sn.array(sn.object({id:sn.string(),value:sn.string()})),Ir=sn.array(sn.object({value:sn.string(),search_options:sn.array(sn.string())})),Lr=sn.array(sn.object({value:sn.string(),initiator_key:sn.string().optional(),search_options:sn.array(sn.string())})),Ar=function(){const[e,t]=(0,o.useState)(!0),[n,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)({errorCode:void 0,errorMessage:void 0}),[l,h]=(0,o.useState)([]),[p,g]=(0,o.useState)({}),[f,y]=(0,o.useState)(Date.now()),[v,w]=(0,o.useState)(),[E,x]=(0,o.useState)(),[b,S]=(0,o.useState)(!1),[k,T]=(0,o.useState)(1),[M,O]=(0,o.useState)({}),[I,P]=(0,o.useState)(""),[D,j]=(0,o.useState)(!1),[F,z]=(0,o.useState)(!1),[R,H]=(0,o.useState)(!1),[$,U]=(0,o.useState)(),[q,W]=(0,o.useState)(),B="dashboard"===window.pagenow,V={throttleMs:B?1/0:50},[Y,G]=Z("date",N.withDefault("").withOptions(V)),[Q,K]=Z("from",L.withDefault(na).withOptions(V)),[J,X]=Z("to",L.withDefault(aa).withOptions(V)),[ee,te]=Z("q",N.withDefault("").withOptions(V)),ne=(0,o.useMemo)((()=>[]),[]),[ae,re]=Z("levels",function(e,t=","){const n=e.eq??((e,t)=>e===t),a=encodeURIComponent(t);return C({parse:n=>""===n?[]:n.split(t).map(((n,r)=>_(e.parse,n.replaceAll(a,t),`[${r}]`))).filter((e=>null!=e)),serialize:n=>n.map((n=>(e.serialize?e.serialize(n):String(n)).replaceAll(t,a))).join(t),eq:(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>n(e,t[a])))})}(N).withDefault(ne).withOptions(V)),[se,ie]=Z("messages",A(Ir.parse).withDefault(ne).withOptions(V)),[oe,le]=Z("users",A(Or.parse).withDefault(ne).withOptions(V)),[ce,ue]=Z("initiator",A(Lr.parse).withDefault(ne).withOptions(V)),de=(0,o.useMemo)((()=>function(e){const{selectedLogLevels:t,selectedMessageTypes:n,selectedUsersWithId:a,selectedInitiator:r,enteredSearchText:s,selectedDateOption:i,selectedCustomDateFrom:o,selectedCustomDateTo:l,page:c,pagerSize:u}=e;let d=u.page;"dashboard"===window.pagenow&&(d=u.dashboard);const m={page:c,per_page:d,_fields:["id","logger","date_local","date_gmt","message","message_html","message_key","details_data","details_html","loglevel","occasions_id","subsequent_occasions_count","initiator","initiator_data","ip_addresses","via","permalink","sticky","sticky_appended"]};if(s&&(m.search=s),i&&("customRange"===i?(m.date_from=Gn(o,"yyyy-MM-dd"),m.date_to=Gn(l,"yyyy-MM-dd")):m.dates=i),t.length){const e=[];t.forEach((t=>{const n=Xn.find((e=>e.label===t));n&&e.push(n.value)})),e.length&&(m.loglevels=e)}if(n.length){const e=[];n.forEach((t=>{t.search_options.forEach((t=>{e.push(t)}))})),m.messages=e.join(",")}if(a.length){const e=a.map((e=>e.id));m.users=e}if(r.length>0){const e=r.map((e=>e.initiator_key||e.value));m.initiator=e}const h=s||t.length||n.length||a.length||r.length>0;return 1!==c||h||(m.include_sticky=!0),m}({selectedLogLevels:ae,selectedMessageTypes:se,selectedUsersWithId:oe,selectedInitiator:ce,enteredSearchText:ee,selectedDateOption:Y,selectedCustomDateFrom:Q,selectedCustomDateTo:J,page:k,pagerSize:M})),[Y,ee,ae,se,oe,ce,Q,J,k,M]);(0,o.useEffect)((()=>{T(1)}),[Y,ee,ae,se,ce,Q,J]);const me=(0,o.useCallback)((async()=>{t(!0);try{const e=await c()({path:(0,m.addQueryArgs)("/simple-history/v1/events",de),parse:!1}),t=await e.json();if(g({total:parseInt(e.headers.get("X-Wp-Total"),10),totalPages:parseInt(e.headers.get("X-Wp-Totalpages"),10),link:e.headers.get("Link")}),t&&t.length&&1===k){const e=t.find((e=>!e.sticky_appended));w(e.id)}h(t)}catch(e){r(!0);const t={code:null,statusText:null,bodyJson:null,bodyText:null};if(e.headers&&e.status&&e.statusText){const n=e.headers.get("Content-Type");t.code=e.status,t.statusText=e.statusText,n&&n.includes("application/json")?t.bodyJson=await e.json():t.bodyText=await e.text()}else t.bodyText=(0,d.__)("Unknown error","simple-history");i(t)}finally{t(!1)}}),[de,k]),he=(0,u.useDebounce)(me,500);(0,o.useEffect)((()=>{b&&he()}),[he,b,f]);const pe=()=>{T(1),x(v),y(Date.now())};return(0,o.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[k]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Mr,{selectedLogLevels:ae,setSelectedLogLevels:re,selectedMessageTypes:se,setSelectedMessageTypes:ie,selectedDateOption:Y,setSelectedDateOption:G,enteredSearchText:ee,setEnteredSearchText:te,selectedCustomDateFrom:Q,setSelectedCustomDateFrom:K,selectedCustomDateTo:J,setSelectedCustomDateTo:X,selectedUsersWithId:oe,setSelectedUsersWithId:le,selectedInitiator:ce,setSelectedInitiator:ue,searchOptionsLoaded:b,setSearchOptionsLoaded:S,setPagerSize:O,setMapsApiKey:P,setHasExtendedSettingsAddOn:j,setHasPremiumAddOn:z,setIsExperimentalFeaturesEnabled:H,eventsAdminPageURL:$,setEventsAdminPageURL:U,setEventsSettingsPageURL:W,setPage:T,onReload:pe}),(0,a.createElement)(Ta,{isExperimentalFeaturesEnabled:R,eventsIsLoading:e,eventsTotal:p.total,eventsQueryParams:de}),(0,a.createElement)(Nr,{eventsQueryParams:de,eventsMaxId:v,onReload:pe}),(0,a.createElement)(xr,{eventsIsLoading:e,events:l,eventsMeta:p,page:k,pagerSize:M,setPage:T,eventsMaxId:v,prevEventsMaxId:E,mapsApiKey:I,hasExtendedSettingsAddOn:D,hasPremiumAddOn:F,eventsSettingsPageURL:q,eventsAdminPageURL:$,eventsLoadingHasErrors:n,eventsLoadingErrorDetails:s}),B?(0,a.createElement)(ia,null):null,(0,a.createElement)(Sr,null))};var Pr,Dr=M(),jr=(0,a.createContext)({fullPageNavigationOnShallowFalseUpdates:!1}),Zr=(Pr=function(){const{fullPageNavigationOnShallowFalseUpdates:e}=(0,a.useContext)(jr),[t,n]=(0,a.useState)((()=>"undefined"==typeof location?new URLSearchParams:new URLSearchParams(location.search)));(0,a.useEffect)((()=>{const e=()=>{n(new URLSearchParams(location.search))};return Dr.on("update",n),window.addEventListener("popstate",e),()=>{Dr.off("update",n),window.removeEventListener("popstate",e)}}),[]);return{searchParams:t,updateUrl:(0,a.useMemo)((()=>function(e){return function(t,n){const a=new URL(location.href);a.search=function(e){if(0===e.size)return"";const t=[];for(const[a,r]of e.entries()){const e=a.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${n=r,n.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,(e=>encodeURIComponent(e)))}`)}var n;return"?"+t.join("&")}(t),e&&!1===n.shallow?("push"===n.history?location.assign:location.replace).call(location,a):("push"===n.history?history.pushState:history.replaceState).call(history,history.state,"",a),Dr.emit("update",t),!0===n.scroll&&window.scrollTo({top:0})}}(e)),[e])}},({children:e,...t})=>(0,a.createElement)(y.Provider,{...t,value:{useAdapter:Pr}},e));function Fr({children:e,fullPageNavigationOnShallowFalseUpdates:t=!1}){return(0,a.createElement)(jr.Provider,{value:{fullPageNavigationOnShallowFalseUpdates:t}},(0,a.createElement)(Zr,null,e))}const zr=(0,r.withFilters)("SimpleHistory.FilteredComponent")((e=>(0,a.createElement)(a.Fragment,null)));i()((()=>{const e=document.getElementById("simple-history-react-root");e&&o.createRoot&&(0,o.createRoot)(e).render((0,a.createElement)(Fr,null,(0,a.createElement)(xa,null,(0,a.createElement)(r.SlotFillProvider,null,(0,a.createElement)(zr,null),(0,a.createElement)(Ar,null)))))}))})();