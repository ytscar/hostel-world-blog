"use strict";!function(s){var n,o,a=document.querySelector('[name="_wp_http_referer"]');function i(e){var t;a&&(a.value.includes("#")?(t=a.value.split("#")[0],a.value=t+"#"+e):a.value=a.value+"#"+e)}function c(e,t){o.textContent=t,o.classList.add("success"===e?"is-success":"is-error"),o.classList.remove("is-hidden")}s(".wpbf-transparent-header-advanced").on("click",function(){0!=this.dataset.expanded&&this.dataset.expanded?(this.dataset.expanded="0",s(this).html("+ Advanced"),s(".wpbf-transparent-header-advanced-wrapper").slideUp()):(this.dataset.expanded="1",s(this).html("- Advanced"),s(".wpbf-transparent-header-advanced-wrapper").slideDown())}),s(".wpbf-blog-layouts-advanced").on("click",function(){0!=this.dataset.expanded&&this.dataset.expanded?(this.dataset.expanded="0",s(this).html("+ Advanced"),s(".wpbf-blog-layouts-advanced-wrapper").slideUp()):(this.dataset.expanded="1",s(this).html("- Advanced"),s(".wpbf-blog-layouts-advanced-wrapper").slideDown())}),s(".wpbf-performance-select-all").on("click",function(){0!=this.dataset.selected&&this.dataset.selected?(this.dataset.selected="0",s(".wpbf-performance-setting").prop("checked",!1)):(this.dataset.selected="1",s(".wpbf-performance-setting").prop("checked",!0))}),s(".wpbf-company-logo-upload").click(function(e){e.preventDefault();var t=wp.media({title:"Company Logo",button:{text:"Add Logo"},multiple:!1}).on("select",function(){var e=t.state().get("selection").first().toJSON();s(".wpbf-company-logo-url").val(e.url)}).open()}),s(".wpbf-company-logo-remove").click(function(e){e.preventDefault(),s(".wpbf-company-logo-url").val("")}),s(".wpbf-screenshot-upload").click(function(e){e.preventDefault();var t=wp.media({title:"Theme Screenshot",button:{text:"Add Screenshot"},multiple:!1}).on("select",function(){var e=t.state().get("selection").first().toJSON();s(".wpbf-screenshot-url").val(e.url)}).open()}),s(".wpbf-screenshot-remove").click(function(e){e.preventDefault(),s(".wpbf-screenshot-url").val("")}),jQuery(document).ready(function(e){e(".color-picker").wpColorPicker()}),s(".heatbox-tab-nav-item a").on("click",function(e){var t=this.href.substring(this.href.indexOf("#")+1);t&&(i(t),s(".heatbox-tab-nav-item").removeClass("active"),this.parentNode.classList.add("active"),s(".heatbox-admin-panel").css("display","none"),s('.heatbox-admin-panel[data-tab-id="'+t+'"]').css("display","block"))}),s(window).on("load",function(){var n=window.location.hash.substr(1);n&&(i(n),s(".heatbox-tab-nav-item").removeClass("active"),s(".heatbox-admin-panel").css("display","none"),s(".heatbox-tab-nav-item a").each(function(e,t){var a=t.href.substring(t.href.indexOf("#")+1);a&&a===n&&t.parentNode.classList.add("active")}),s('.heatbox-admin-panel[data-tab-id="'+n+'"]').css("display","block"))}),(o=document.querySelector(".wpbf-remove-downloaded-fonts-metabox .submission-status"))&&(n=!1,s(".wpbf-remove-downloaded-fonts").on("click",function(e){var t,a;n||(n=!0,(t=this).classList.add("is-loading"),a={action:"wpbf_clear_font_cache",nonce:t.dataset.nonce},s.ajax({url:ajaxurl,type:"POST",data:a}).done(function(e){c(e.success?"success":"error",e.data)}).fail(function(e){c("error","Something went wrong.")}).always(function(e){n=!1,t.classList.remove("is-loading"),setTimeout(function(){o.textContent="",o.classList.remove("is-success"),o.classList.remove("is-error"),o.classList.add("is-hidden")},4e3)}))}))}(jQuery);