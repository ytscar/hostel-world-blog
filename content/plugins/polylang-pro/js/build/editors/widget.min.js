(()=>{var e={20:(e,t,r)=>{"use strict";var n=r(677),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,l={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!i.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:u,props:l,_owner:a.current}}t.jsx=c,t.jsxs=c},848:(e,t,r)=>{"use strict";e.exports=r(20)},677:e=>{e.exports=function(){return this.React}()},419:e=>{e.exports=function(){return this.lodash}()},631:e=>{e.exports=function(){return this.wp.apiFetch}()},89:e=>{e.exports=function(){return this.wp.blockEditor}()},959:e=>{e.exports=function(){return this.wp.components}()},897:e=>{e.exports=function(){return this.wp.compose}()},987:e=>{e.exports=function(){return this.wp.data}()},601:e=>{e.exports=function(){return this.wp.element}()},873:e=>{e.exports=function(){return this.wp.hooks}()},75:e=>{e.exports=function(){return this.wp.i18n}()},933:e=>{e.exports=function(){return this.wp.primitives}()},172:e=>{e.exports=function(){return this.wp.url}()}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);(()=>{"use strict";var e=r(987),t=r(172),n=r(419);const s="pll/metabox",l={languages:[],selectedLanguage:{},translatedPosts:{},fromPost:null,currentTemplatePart:{}},o=()=>new Promise((function(t){const r=(0,e.subscribe)((function(){const n=(0,e.select)(s)?.getLanguages();n?.size>0&&(r(),t())}))}));function a(e,r){const s=(0,t.hasQueryArg)(e.path,"lang");((0,n.isUndefined)(e.filterLang)||e.filterLang)&&!s&&(e.path=(0,t.addQueryArgs)(e.path,{lang:r}))}var i=r(631),c=r.n(i);const u=(e,t,r)=>{const n=e.path.split("?")[0].replace(/^\/+|\/+$/g,"");return Object.values(t).find((e=>n===e))?r(e):e},p=e=>{c().use(((t,r)=>void 0!==t.url||"undefined"==typeof pllFilteredRoutes?r(t):r(u(t,pllFilteredRoutes,e))))};var g=r(75),d=r(897),h=r(873),f=r(601),_=r(89),m=r(959),v=r(933),x=r(848);void 0!==wp.primitives&&(v.SVG,v.Path),void 0!==wp.primitives&&(v.SVG,v.Path),void 0!==wp.primitive&&(v.SVG,v.Path),void 0!==wp.primitives&&(v.SVG,v.Path);const w=void 0!==wp.primitives?(0,x.jsx)(v.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,x.jsx)(v.Path,{d:"M11 7H9.49c-.63 0-1.25.3-1.59.7L7 5H4.13l-2.39 7h1.69l.74-2H7v4H2c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v2zM6.51 9H4.49l1-2.93zM10 8h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2zm7.25 5v-1.08h-3.17V9.75h-1.16v2.17H9.75V13h1.28c.11.85.56 1.85 1.28 2.62-.87.36-1.89.62-2.31.62-.01.02.22.97.2 1.46.84 0 2.21-.5 3.28-1.15 1.09.65 2.48 1.15 3.34 1.15-.02-.49.2-1.44.2-1.46-.43 0-1.49-.27-2.38-.63.7-.77 1.14-1.77 1.25-2.61h1.36zm-3.81 1.93c-.5-.46-.85-1.13-1.01-1.93h2.09c-.17.8-.51 1.47-1 1.93l-.04.03s-.03-.02-.04-.03z"})}):"translation";void 0!==wp.primitives&&(v.SVG,v.Path),void 0!==wp.primitives&&(v.SVG,v.Path),wp.primitives;const y=function({language:e}){return(0,n.isNil)(e)?(0,x.jsx)("span",{className:"pll-translation-icon",children:w}):(0,n.isEmpty)(e.flag_url)?(0,x.jsxs)("abbr",{children:[e.slug,(0,x.jsx)("span",{className:"screen-reader-text",children:e.name})]}):(0,x.jsx)("span",{className:"pll-select-flag",children:(0,x.jsx)("img",{src:e.flag_url,alt:e.name,title:e.name,className:"flag"})})};function P({handleChange:e,children:t,selectedLanguage:r=null,defaultValue:n=""}){const s=r?.slug?r.slug:n;return(0,x.jsxs)("div",{id:"select-post-language",children:[(0,x.jsx)(y,{language:r}),t&&(0,x.jsx)("select",{value:s,onChange:t=>e(t),id:"pll_post_lang_choice",name:"pll_post_lang_choice",className:"post_lang_choice",children:t})]})}function E({languages:e}){return Array.from(e.values()).map((({slug:e,name:t,w3c:r})=>(0,x.jsx)("option",{value:e,lang:r,children:t},e)))}const S={setLanguages:e=>({type:"SET_LANGUAGES",languages:e}),setCurrentUser:(e,t=!1)=>({type:"SET_CURRENT_USER",currentUser:e,save:t}),setFromPost:e=>({type:"SET_FROM_POST",fromPost:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",options:e})},T=(0,e.createReduxStore)(s,{reducer(e=l,t){switch(t.type){case"SET_LANGUAGES":return{...e,languages:t.languages};case"SET_CURRENT_USER":return t.save&&(r=t.currentUser,Promise.resolve(c()({path:"/wp/v2/users/me",data:r,method:"POST"}))).then((r=>(t.currentUser=r,{...e,currentUser:t.currentUser}))),{...e,currentUser:t.currentUser};case"SET_FROM_POST":return{...e,fromPost:t.fromPost};case"SET_CURRENT_TEMPLATE_PART":return{...e,currentTemplatePart:t.currentTemplatePart};default:return e}var r},selectors:{getLanguages:e=>e.languages,getCurrentUser:e=>e.currentUser,getFromPost:e=>e.fromPost},actions:S,controls:{FETCH_FROM_API:e=>c()({...e.options})},resolvers:{*getLanguages(){const e=yield S.fetchFromAPI({path:"/pll/v1/languages",filterLang:!1});return S.setLanguages(function(e,t){const r=new Map;return e.reduce((function(e,r){return e.set(r[t],r),e}),r),r}(e,"slug"))},*getCurrentUser(){const e=yield S.fetchFromAPI({path:"/wp/v2/users/me",filterLang:!0});return S.setCurrentUser(e)}}});(0,e.register)(T);const j={type:"string",default:"every"};(0,h.addFilter)("blocks.registerBlockType","pll/lang-choice",(function(e,t){return["core/widget-area","core/legacy-widget"].find((e=>e===t))||(e.attributes=(0,n.assign)(e.attributes,{pll_lang:j})),e}));const b=(0,d.createHigherOrderComponent)((t=>r=>{const l=(0,e.select)(s).getLanguages(),{pll_lang:o}=r.attributes,a=!(0,n.isNil)(o),i=l.get(o);return(0,x.jsxs)(f.Fragment,{children:[(0,x.jsx)(t,{...r}),a&&(0,x.jsx)(_.InspectorControls,{children:(0,x.jsxs)(m.PanelBody,{title:(0,g.__)("Languages","polylang-pro"),children:[(0,x.jsx)("label",{htmlFor:"pll_post_lang_choice",children:(0,g.__)("The block is displayed for:","polylang-pro")}),(0,x.jsxs)(P,{selectedLanguage:i,handleChange:e=>{const t=e.currentTarget.value;r.setAttributes({pll_lang:t})},defaultValue:j.default,children:[(0,x.jsxs)("option",{value:j.default,children:[(0,g.__)("All languages","polylang-pro")," "]}),(0,x.jsx)(E,{languages:l})]})]})})]})}),"withInspectorControl");o().then((function(){(0,h.addFilter)("editor.BlockEdit","pll/lang-choice-with-inspector-controls",b)})),p((function(e){return"undefined"!=typeof pll_block_editor_plugin_settings&&a(e,pll_block_editor_plugin_settings.lang.slug),e}))})(),this["polylang-pro"]={}})();