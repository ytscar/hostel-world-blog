!function(){var e={659:function(){window.WPCodeAddons=window.WPCodeAddons||function(e,t,n){const o={l18n:t.wpcode,init:function(){o.should_init()&&o.init_install()},should_init:()=>(o.$install_buttons=n(".wpcode-button-install-addon"),o.$install_buttons.length>0),init_install(){o.$install_buttons.on("click",(function(e){e.preventDefault();const t=n(this);o.install_addon(t)}))},install_addon(e){const i=e.data("addon");i&&(o.show_button_spinner(e),n.post(ajaxurl,{action:"wpcode_install_addon",slug:i,_wpnonce:wpcode.nonce,multisite:o.l18n.multisite},(function(i){if(i.success)t.location.reload();else if(o.hide_button_spinner(e),i.data.message){let e="<div class='excl-mark'>!</div>";n.confirm({title:!1,content:e+i.data.message,type:"blue",buttons:{confirm:{text:o.l18n.ok,btnClass:"wpcode-btn-confirm",action:function(){}}}})}})))},show_button_spinner(e){t.WPCodeSpinner.show_button_spinner(e)},hide_button_spinner(e){t.WPCodeSpinner.hide_button_spinner(e)}};return o}(document,window,jQuery),WPCodeAddons.init()},177:function(){(window.WPCodeCSSSelector||function(e,t,n){const o={l18n:t.wpcode,init:function(){o.should_init()&&o.init_extra_location_parse()},should_init:()=>(o.$css_selector_input=n("#wpcode_css_selector"),o.$css_selector_index=n("#wpcode_css_selector_index"),o.$extra_location_input=n("#wpcode_auto_insert_location_extra"),o.$css_selector_input.length>0),init_extra_location_parse(){n(".wpcode-content").on("change","#wpcode_css_selector, #wpcode_css_selector_index",(function(){o.update_extra_location_parameters()}))},update_extra_location_parameters(){const e={css_selector:o.$css_selector_input.val(),index:o.$css_selector_index.val()};o.$extra_location_input.val(JSON.stringify(e))}};return o}(document,window,jQuery)).init()},999:function(){!function(e){jconfirm.defaults={closeIcon:!1,backgroundDismiss:!0,escapeKey:!0,animationBounce:1,useBootstrap:!1,theme:"modern",boxWidth:"560px",type:"blue",animateFromElement:!1,scrollToPreviousElement:!1};const t={l18n:window.wpcode,init(){t.addEvents()},addEvents(){e(document).on("click","#wpcode-setting-license-key-verify",(function(n){n.preventDefault(),t.licenseVerify(e(this))})),e(document).on("click","#wpcode-setting-license-key-deactivate",(function(n){n.preventDefault(),t.licenseDeactivate(e(this))})),e(document).on("click","#wpcode-setting-license-key-deactivate-force",(function(n){n.preventDefault(),t.licenseDeactivate(e(this),!0)}))},licenseVerify(n){const o=n.closest(".wpcode-metabox-form-row-input"),i=e("#wpcode-setting-license-key"),a={action:"wpcode_verify_license",_wpnonce:t.l18n.nonce,license:i.val(),multisite:t.l18n.multisite};WPCodeSpinner.show_button_spinner(n);const r=WPCodeSVG.WPCodeIcon("checkmark",88,88,"0 0 130.2 130.2","iconId","path circle");e.post(ajaxurl,a,(function(i){let a="",s=!1;WPCodeSpinner.hide_button_spinner(n),i.success?(a=i.data.msg,o.find(".type, .desc, #wpcode-setting-license-key-deactivate").show(),o.find("#wpcode-setting-license-key-verify").hide(),o.find(".type strong").text(i.data.type),s=i.data.reload):a=i.data,e.confirm({title:!i.success&&"<div class='excl-mark'>!</div>"+t.l18n.license_error_title,content:i.success?r+a:a,type:"blue",buttons:{confirm:{text:t.l18n.ok,btnClass:"wpcode-btn-confirm",action:function(){s&&e.confirm({title:t.l18n.please_wait,content:function(){return new Promise((function(e){setTimeout((function(){location.reload(),e()}),2e3)}))}})}}}})})).fail((function(e){WPCodeSpinner.hide_button_spinner(n),console.log(e.responseText)}))},licenseDeactivate:function(n){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i=e(n),a=i.closest(".wpcode-metabox-form-row-input"),r={action:"wpcode_deactivate_license",_wpnonce:t.l18n.nonce,force:o,multisite:t.l18n.multisite};WPCodeSpinner.show_button_spinner(i);const s=WPCodeSVG.WPCodeIcon("checkmark",88,88,"0 0 130.2 130.2","iconId","path circle");e.post(ajaxurl,r,(function(n){let o=n.data,r="";WPCodeSpinner.hide_button_spinner(i),n.success?(a.find("#wpcode-setting-license-key").val("").prop("disabled",!1),a.find(".type, .desc, #wpcode-setting-license-key-deactivate").hide(),a.find(".type, .desc, #wpcode-setting-license-key-deactivate-force").hide(),a.find("#wpcode-setting-license-key-verify").show(),r="success"):(r="warning",a.find(".type, .desc, #wpcode-setting-license-key-deactivate").hide(),a.find(".type, .desc, #wpcode-setting-license-key-deactivate-force").show()),e.alert({title:!1,content:s+o,type:"blue",buttons:{ok:{text:t.l18n.ok,btnClass:"wpcode-btn-confirm",action:function(){}}}})})).fail((function(e){WPCodeSpinner.hide_button_spinner(i),console.log(e.responseText)}))}};t.init()}(jQuery)},894:function(){(window.WPCodeAdminMyLibrary||function(e,t,n){const o={l18n:t.wpcode,init(){o.should_init()&&o.init_snippet_trash()},should_init:()=>0!==n(".wpcode-my-library-trash").length,init_snippet_trash(){n(".wpcode-my-library-trash").on("click",(function(e){e.preventDefault();const t=n(this).closest(".wpcode-list-item");n.confirm({title:o.l18n.confirm_delete_title,content:o.l18n.confirm_delete_text,type:"red",buttons:{confirm:{text:o.l18n.confirm_delete_button,btnClass:"wpcode-btn-reject",action:function(){o.delete_snippet(t)}},cancel:{text:"Cancel",btnClass:"wpcode-btn-cancel"}}})}))},delete_snippet(e){e.fadeOut();const t=e.find(".wpcode-item-use-button");n.post(ajaxurl,{_wpnonce:o.l18n.nonce,action:"wpcode_my_library_delete_snippet",snippet_id:t.data("snippet-id"),cloud_id:e.data("id"),multisite:o.l18n.multisite}).then((function(t){t.success?e.remove():(e.fadeIn(),n.confirm({title:t.data.title,content:t.data.text,type:"blue",buttons:{ok:{text:"OK",btnClass:"wpcode-btn-confirm",action:function(){}}}}))}))}};return o}(document,window,jQuery)).init()},812:function(){const e=window.WPCodePostMetabox||function(e,t,n){const o={l18n:t.wpcode,snippet_page:1,loaded_snippets:!1,revisions_dirty:!0,init(){o.should_init()&&(o.init_load_snippet_chooser(),o.init_hide_insert_number(),o.init_refresh_revisions(),o.init_revisions_listener())},should_init:()=>(o.snippet_chooser=n("#wpcode-choose-snippets"),o.picked_snippets=n("#wpcode-picked-snippets"),o.load_more_button=n("#wpcode-metabox-load-more"),o.search_input=n("#wpcode-search-snippets"),o.no_snippets=n("#wpcode-no-snippets-selected"),o.load_spinner=n("#wpcode-chooser-spinner"),o.snippet_chooser.length>0),init_load_snippet_chooser(){o.init_choose_event(),o.init_load_more_event(),o.init_remove_snippet(),o.init_search(),o.init_drawer(),o.maybe_show_no_snippets()},load_snippets(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=o.search_input.val();e&&(o.snippet_chooser.empty(),o.snippet_page=1),o.load_spinner.show(),n.post(ajaxurl,{action:"wpcode_load_snippets",_wpnonce:o.l18n.nonce,page:o.snippet_page,post_id:o.l18n.post_id,selected:o.get_selected_ids(),search:t}).then((function(e){o.load_spinner.hide(),e.success&&(e.data.snippets&&e.data.snippets.length>0?(o.snippet_chooser.append(e.data.snippets),o.snippet_page++,e.data.snippets.length<10?o.load_more_button.hide():o.load_more_button.show()):o.load_more_button.hide())}))},init_choose_event(){o.snippet_chooser.on("change",":checkbox",(function(){const e=n(this).val();this.checked?o.load_selected_snippet(e):o.picked_snippets.find("#wpcode-selected-snippet-"+e).remove()}))},load_selected_snippet(e){o.load_spinner.show(),n.post(ajaxurl,{action:"wpcode_load_selected_snippet",_wpnonce:o.l18n.nonce,snippet_id:e}).then((function(e){o.load_spinner.hide(),e.success&&(o.picked_snippets.append(e.data.snippet),o.maybe_show_no_snippets())}))},init_load_more_event(){o.load_more_button.on("click",(function(e){e.preventDefault(),o.load_snippets()}))},init_remove_snippet(){o.picked_snippets.on("click",".wpcode-remove-snippet-item",(function(e){e.preventDefault();const t=n(this).closest(".wpcode-selected-snippet-item"),i=t.data("id");o.snippet_chooser.find('[value="'+i+'"]').prop("checked",!1),t.remove(),o.maybe_show_no_snippets()}))},init_search(){let e=null;o.search_input.on("keyup input cut paste",(function(t){clearTimeout(e),e=setTimeout((function(){o.load_snippets(!0)}),300)}))},get_selected_ids(){const e=[];return o.picked_snippets.find(".wpcode-selected-snippet-item").each((function(){e.push(n(this).data("id"))})),e},maybe_show_no_snippets(){o.picked_snippets.find(".wpcode-selected-snippet-item").length>0?o.no_snippets.hide():o.no_snippets.show()},init_drawer(){n(".wpcode-drawer-toggle").on("click",(function(e){e.preventDefault(),o.loaded_snippets||(o.load_snippets(),o.loaded_snippets=!0),n(this).closest(".wpcode-metabox-snippets").toggleClass("wpcode-snippet-chooser-closed")}))},init_hide_insert_number(){o.picked_snippets.on("change",".wpcode-auto-insert-location-picker",(function(){const e=n(this),t=e.closest(".wpcode-selected-snippet-item").find(".wpcode-auto-insert-number-wrap");wpcode.locations_number&&wpcode.locations_number.includes(e.val())?t.removeClass("wpcode-hidden"):t.addClass("wpcode-hidden")}))},init_refresh_revisions(){if(!wp.data)return;const e=wp.data.select("core/edit-post");if(!e)return;const t=e.isSavingMetaBoxes;var n=!1;wp.data.subscribe((function(){var e=t();n&&!e&&(o.revisions_dirty=!0),n=e}))},load_revisions(){const e=n("#wpcode-tab-revisions .wpcode-revisions-list-area");e.html('<div class="wpcode-loading-spinner"></div>'),n.post(ajaxurl,{action:"wpcode_load_revisions_list",_wpnonce:o.l18n.nonce,post_id:o.l18n.post_id}).then((function(t){t.success&&e.replaceWith(n(t.data.revisions))}))},init_revisions_listener(){n(e).on("wpcode-tab-change",(function(e,t){"wpcode-tab-revisions"===t&&o.revisions_dirty&&o.load_revisions()}))}};return o}(document,window,jQuery);e.init()},699:function(){(function(e,t,n){const o={sassLoaded:!1,init:function(){jQuery(e).ready((function(){o.lateInit()}))},lateInit(){o.shouldInit()&&(o.findElements(),o.codeTypeListener())},shouldInit:()=>(o.snippetManagerForm=n("#wpcode-snippet-manager-form"),o.snippetManagerForm.length>0),findElements(){o.codeTypePicker=n("#wpcode_snippet_type")},loadScript(t,n){var o=e.createElement("script");o.type="text/javascript",o.src=t,e.head.appendChild(o),o.onload=function(){n&&n()}},codeTypeListener:function(){o.codeTypePicker.on("change",(function(e){"scss"!==e.target.value||o.sassLoaded||o.loadSassAndBind()})),"scss"===o.codeTypePicker.val()&&o.loadSassAndBind()},loadSassAndBind:function(){o.sassLoaded=!0,o.loadScript("https://plugin.wpcode.com/cdn/sass.sync.js",(function(){"undefined"!=typeof Sass?(Sass.options({style:Sass.style.compressed}),o.snippetManagerForm.on("submit",(function(n){if("scss"===e.querySelector('[name="wpcode_snippet_type"]').value){n.preventDefault();const i=t.wpcode_editor.wpcode_snippet_code.codemirror.getValue();Sass.compile(i,(function(t){if(0===t.status){const n=t.text,i=e.createElement("textarea");i.name="wpcode_compiled_code",i.style.display="none",i.value=n,o.snippetManagerForm.append(i),o.snippetManagerForm[0].submit()}else jQuery.confirm({title:"Error Compiling SCSS",content:"Error Message: "+t.message,type:"blue",buttons:{confirm:{text:"ok",btnClass:"wpcode-btn-confirm",action:function(){}}}})}))}}))):console.error("Sass.js is not loaded!")}))}};return o})(document,window,jQuery).init()},843:function(){jQuery((function(e){const t=e(".wpcode-smart-tags");t.on("click",".wpcode-insert-smart-tag",(function(n){n.preventDefault();const o=e(this).closest(".wpcode-smart-tags-dropdown").data("target");!function(t,n){if("undefined"==typeof WPCodeSnippetManager||"text"!==WPCodeSnippetManager.code_type||void 0===WPCodeSnippetManager.$text_editor)if(void 0!==window.wpcode_editor)void 0!==window.wpcode_editor[n]&&(window.wpcode_editor[n].codemirror.doc.replaceSelection(t),window.wpcode_editor[n].codemirror.save());else{const o=e("#"+n);o.val(o.val()+t)}else WPCodeSnippetManager.$text_editor.insertContent(t)}(e(this).data("tag"),o),t.trigger("wpcode_close_smart_tags_dropdown")}))}))},21:function(){(window.WPCodeTestingMode||function(e,t,n){const o={l18n:t.wpcode,init:function(){o.should_init()&&o.init_events()},should_init:()=>(o.$toggle=n("#wpcode-toggle-testing-mode"),o.$toggle.length>0),init_events(){if(o.$toggle.on("change",o.toggle),new URLSearchParams(t.location.search).has("wpcode_testing_mode")&&(o.show_testing_mode_info(),t.history.replaceState)){const e=new URL(t.location.href);e.searchParams.delete("wpcode_testing_mode"),t.history.replaceState(null,null,e)}n(".wpcode-button-publish-changes").on("click",o.publish_changes)},toggle:()=>o.$toggle.is(":checked")?o.redirect_to_enable_link():o.show_disable_confirm(),redirect_to_enable_link(){o.show_please_wait(o.l18n.testing_mode.enabling),t.location.href=o.l18n.testing_mode.toggle_link},show_disable_confirm(){const e=o.show_please_wait(o.l18n.testing_mode.checking_changes);n.ajax({url:ajaxurl,type:"POST",data:{_wpnonce:o.l18n.nonce,action:"wpcode_testing_mode_get_changes"},success:function(t){e.close(),t.success&&o.show_disable_confirm_modal(t.data)}})},show_disable_confirm_modal(e){let i="";e.snippets&&e.snippets.length>0&&(i="<ul>",e.snippets.forEach((function(e){i+='<li><a href="'+e.edit_link+'">'+e.title+"</a></li>"})),i+="</ul>");const a=e.global.length>0||e.snippets.length>0||e.page_scripts.length>0;let r='<div class="wpcode-testing-mode-changes">';a?(r+='<div class="wpcode-testing-mode-column">',r+="<p>"+o.l18n.testing_mode.disable_confirm_text+"</p>",r+="</div>",e.snippets.length>0&&(r+='<div class="wpcode-testing-mode-column">',r+="<p><strong>"+o.l18n.testing_mode.updated_snippets+"</strong></p>",r+=i,r+="</div>"),e.global.length>0&&(r+='<div class="wpcode-testing-mode-column">',r+="<p><strong>"+o.l18n.testing_mode.updated_global+"</strong></p>",r+="<ul>",e.global.forEach((function(e){r+='<li><a href="'+e.edit_link+'">'+e.title+"</a></li>"})),r+="</ul>",r+="</div>"),e.page_scripts.length>0&&(r+='<div class="wpcode-testing-mode-column">',r+="<p><strong>"+o.l18n.testing_mode.updated_page_scripts+"</strong></p>",r+="<ul>",e.page_scripts.forEach((function(e){r+='<li><a href="'+e.edit_link+'">'+e.title+"</a></li>"})),r+="</ul>",r+="</div>")):r+="<p><strong>"+o.l18n.testing_mode.no_changes+"</strong></p>",r+="</div>";const s={};a&&(s.confirm={text:o.l18n.testing_mode.save_changes,btnClass:"wpcode-btn-confirm",action:function(){t.location.href=o.l18n.testing_mode.save_changes_url}}),s.deny={text:a?o.l18n.testing_mode.discard_changes:o.l18n.testing_mode.disable_testing_mode,btnClass:"wpcode-btn-reject",action:function(){t.location.href=o.l18n.testing_mode.toggle_link}},s.cancel={text:o.l18n.testing_mode.cancel,btnClass:"wpcode-btn-cancel",action:function(){o.$toggle.prop("checked",!0)}};const c={title:o.l18n.testing_mode.disable_confirm_title,content:r,backgroundDismiss:!1,boxWidth:"700px",theme:"modern disable-testing-mode",buttons:s};n.confirm(c)},show_testing_mode_info(){if(!o.l18n.testing_mode.enabled)return;const e=WPCodeSVG.WPCodeIcon("checkmark",88,88,"0 0 130.2 130.2","iconId","path circle");n.confirm({title:e+o.l18n.testing_mode.info_title,content:o.l18n.testing_mode.info_text,type:"blue",buttons:{confirm:{text:o.l18n.ok,btnClass:"wpcode-btn-confirm",action:function(){}}}})},show_please_wait:e=>n.confirm({title:e,closeIcon:!1,content:'<div class="lds-dual-ring"></div>',theme:"modern loader-spinner",buttons:{close:{isHidden:!0}},onOpenBefore:function(){this.buttons.close.hide(),this.$content.parent().addClass("jconfirm-loading")},onClose:function(){this.$content.parent().removeClass("jconfirm-loading")}}),publish_changes(e){e.preventDefault(),n.confirm({title:o.l18n.testing_mode.publish_changes_title,content:o.l18n.testing_mode.publish_changes_text,theme:"modern disable-testing-mode",buttons:{confirm:{text:o.l18n.ok,btnClass:"wpcode-btn-confirm",action:function(){t.location=o.l18n.testing_mode.publish_changes_url}},cancel:{text:o.l18n.cancel,btnClass:"wpcode-btn-cancel",action:function(){}}},backgroundDismiss:!0})}};return o}(document,window,jQuery)).init()},895:function(){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},i=0,a=t;i<a.length;i++){var r=a[i];o(r)}return e})}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}!function(){"use strict";n(894);var e=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],t={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=o,a=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(o,i)}),t)}}var c=function(e){return e instanceof Array?e:[e]};function l(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var o=window.document.createElement(e);return t=t||"",n=n||"",o.className=t,void 0!==n&&(o.textContent=n),o}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){return t(e)?e:e.parentNode?p(e.parentNode,t):void 0}function f(e,t){var n=d("div","numInputWrapper"),o=d("input","numInput "+e),i=d("span","arrowUp"),a=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==t)for(var r in t)o.setAttribute(r,t[r]);return n.appendChild(o),n.appendChild(i),n.appendChild(a),n}function m(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var g=function(){},h=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},_={D:g,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var o=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(o-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:g,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:g,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},v={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},w={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[w.w(e,t,n)]},F:function(e,t,n){return h(w.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(w.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return h(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return a(e.getFullYear(),4)},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var n=e.config,i=void 0===n?t:n,a=e.l10n,r=void 0===a?o:a,s=e.isMobile,c=void 0!==s&&s;return function(e,t,n){var o=n||r;return void 0===i.formatDate||c?t.split("").map((function(t,n,a){return w[t]&&"\\"!==a[n-1]?w[t](e,o,i):"\\"!==t?t:""})).join(""):i.formatDate(e,t,o)}},y=function(e){var n=e.config,i=void 0===n?t:n,a=e.l10n,r=void 0===a?o:a;return function(e,n,o,a){if(0===e||e){var s,c=a||r,l=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var d=n||(i||t).dateFormat,u=String(e).trim();if("today"===u)s=new Date,o=!0;else if(i&&i.parseDate)s=i.parseDate(e,d);else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else{for(var p=void 0,f=[],m=0,g=0,h="";m<d.length;m++){var w=d[m],b="\\"===w,y="\\"===d[m-1]||b;if(v[w]&&!y){h+=v[w];var C=new RegExp(h).exec(e);C&&(p=!0)&&f["Y"!==w?"push":"unshift"]({fn:_[w],val:C[++g]})}else b||(h+=".")}s=i&&i.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,c)||s})),s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===o&&s.setHours(0,0,0,0),s;i.errorHandler(new Error("Invalid date provided: "+l))}}};function C(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var D=function(e,t,n){return 3600*e+60*t+n};function x(e){var t=e.defaultHour,n=e.defaultMinute,o=e.defaultSeconds;if(void 0!==e.minDate){var i=e.minDate.getHours(),a=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<i&&(t=i),t===i&&n<a&&(n=a),t===i&&n===a&&o<r&&(o=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),c=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(c,n)),t===s&&n===c&&(o=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:o}}n(895);var M=function(){return M=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},k=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o};function E(n,o){var g={config:M(M({},t),S.defaultConfig),l10n:i};function _(){var e;return(null===(e=g.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function w(e){return e.bind(g)}function E(){var e=g.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var t=(g.days.offsetWidth+1)*e.showMonths;g.daysContainer.style.width=t+"px",g.calendarContainer.style.width=t+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}}))}function T(e){if(0===g.selectedDates.length){var t=void 0===g.config.minDate||C(new Date,g.config.minDate)>=0?new Date:new Date(g.config.minDate.getTime()),n=x(g.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),g.selectedDates=[t],g.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=m(e),o=n;void 0!==g.amPM&&n===g.amPM&&(g.amPM.textContent=g.l10n.amPM[r(g.amPM.textContent===g.l10n.amPM[0])]);var i=parseFloat(o.getAttribute("min")),s=parseFloat(o.getAttribute("max")),c=parseFloat(o.getAttribute("step")),l=parseInt(o.value,10),d=l+c*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==o.value&&2===o.value.length){var u=o===g.hourElement,p=o===g.minuteElement;d<i?(d=s+d+r(!u)+(r(u)&&r(!g.amPM)),p&&L(void 0,-1,g.hourElement)):d>s&&(d=o===g.hourElement?d-s-r(!g.amPM):i,p&&L(void 0,1,g.hourElement)),g.amPM&&u&&(1===c?d+l===23:Math.abs(d-l)>c)&&(g.amPM.textContent=g.l10n.amPM[r(g.amPM.textContent===g.l10n.amPM[0])]),o.value=a(d)}}(e);var o=g._input.value;I(),Ce(),g._input.value!==o&&g._debouncedChange()}function I(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var e,t,n=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(g.minuteElement.value,10)||0)%60,i=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(e=n,t=g.amPM.textContent,n=e%12+12*r(t===g.l10n.amPM[1]));var a=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===C(g.latestSelectedDateObj,g.config.minDate,!0),s=void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===C(g.latestSelectedDateObj,g.config.maxDate,!0);if(void 0!==g.config.maxTime&&void 0!==g.config.minTime&&g.config.minTime>g.config.maxTime){var c=D(g.config.minTime.getHours(),g.config.minTime.getMinutes(),g.config.minTime.getSeconds()),l=D(g.config.maxTime.getHours(),g.config.maxTime.getMinutes(),g.config.maxTime.getSeconds()),d=D(n,o,i);if(d>l&&d<c){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(c);n=u[0],o=u[1],i=u[2]}}else{if(s){var p=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(n=Math.min(n,p.getHours()))===p.getHours()&&(o=Math.min(o,p.getMinutes())),o===p.getMinutes()&&(i=Math.min(i,p.getSeconds()))}if(a){var f=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(n=Math.max(n,f.getHours()))===f.getHours()&&o<f.getMinutes()&&(o=f.getMinutes()),o===f.getMinutes()&&(i=Math.max(i,f.getSeconds()))}}P(n,o,i)}}function O(e){var t=e||g.latestSelectedDateObj;t&&t instanceof Date&&P(t.getHours(),t.getMinutes(),t.getSeconds())}function P(e,t,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(e%24,t,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=a(g.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),g.minuteElement.value=a(t),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[r(e>=12)]),void 0!==g.secondElement&&(g.secondElement.value=a(n)))}function j(e){var t=m(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&Z(n)}function F(e,t,n,o){return t instanceof Array?t.forEach((function(t){return F(e,t,n,o)})):e instanceof Array?e.forEach((function(e){return F(e,t,n,o)})):(e.addEventListener(t,n,o),void g._handlers.push({remove:function(){return e.removeEventListener(t,n,o)}}))}function A(){_e("onChange")}function N(e,t){var n=void 0!==e?g.parseDate(e):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),o=g.currentYear,i=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,g.config.errorHandler(e)}t&&g.currentYear!==o&&(_e("onYearChange"),Q()),!t||g.currentYear===o&&g.currentMonth===i||_e("onMonthChange"),g.redraw()}function Y(e){var t=m(e);~t.className.indexOf("arrow")&&L(e,t.classList.contains("arrowUp")?1:-1)}function L(e,t,n){var o=e&&m(e),i=n||o&&o.parentNode&&o.parentNode.firstChild,a=ve("increment");a.delta=t,i&&i.dispatchEvent(a)}function H(e,t,n,o){var i=ee(t,!0),a=d("span",e,t.getDate().toString());return a.dateObj=t,a.$i=o,a.setAttribute("aria-label",g.formatDate(t,g.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===C(t,g.now)&&(g.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),i?(a.tabIndex=-1,we(t)&&(a.classList.add("selected"),g.selectedDateElem=a,"range"===g.config.mode&&(l(a,"startRange",g.selectedDates[0]&&0===C(t,g.selectedDates[0],!0)),l(a,"endRange",g.selectedDates[1]&&0===C(t,g.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(e){return!("range"!==g.config.mode||g.selectedDates.length<2)&&C(e,g.selectedDates[0])>=0&&C(e,g.selectedDates[1])<=0}(t)&&!we(t)&&a.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==e&&o%7==6&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(t)+"</span>"),_e("onDayCreate",a),a}function W(e){e.focus(),"range"===g.config.mode&&ie(e)}function $(e){for(var t=e>0?0:g.config.showMonths-1,n=e>0?g.config.showMonths:-1,o=t;o!=n;o+=e)for(var i=g.daysContainer.children[o],a=e>0?0:i.children.length-1,r=e>0?i.children.length:-1,s=a;s!=r;s+=e){var c=i.children[s];if(-1===c.className.indexOf("hidden")&&ee(c.dateObj))return c}}function R(e,t){var n=_(),o=te(n||document.body),i=void 0!==e?e:o?n:void 0!==g.selectedDateElem&&te(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&te(g.todayDateElem)?g.todayDateElem:$(t>0?1:-1);void 0===i?g._input.focus():o?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():g.currentMonth,o=t>0?g.config.showMonths:-1,i=t>0?1:-1,a=n-g.currentMonth;a!=o;a+=i)for(var r=g.daysContainer.children[a],s=n-g.currentMonth===a?e.$i+t:t<0?r.children.length-1:0,c=r.children.length,l=s;l>=0&&l<c&&l!=(t>0?c:-1);l+=i){var d=r.children[l];if(-1===d.className.indexOf("hidden")&&ee(d.dateObj)&&Math.abs(e.$i-l)>=Math.abs(t))return W(d)}g.changeMonth(i),R($(i),0)}(i,t):W(i)}function B(e,t){for(var n=(new Date(e,t,1).getDay()-g.l10n.firstDayOfWeek+7)%7,o=g.utils.getDaysInMonth((t-1+12)%12,e),i=g.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),r=g.config.showMonths>1,s=r?"prevMonthDay hidden":"prevMonthDay",c=r?"nextMonthDay hidden":"nextMonthDay",l=o+1-n,u=0;l<=o;l++,u++)a.appendChild(H("flatpickr-day "+s,new Date(e,t-1,l),0,u));for(l=1;l<=i;l++,u++)a.appendChild(H("flatpickr-day",new Date(e,t,l),0,u));for(var p=i+1;p<=42-n&&(1===g.config.showMonths||u%7!=0);p++,u++)a.appendChild(H("flatpickr-day "+c,new Date(e,t+1,p%i),0,u));var f=d("div","dayContainer");return f.appendChild(a),f}function K(){if(void 0!==g.daysContainer){u(g.daysContainer),g.weekNumbers&&u(g.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<g.config.showMonths;t++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),e.appendChild(B(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(e),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&ie()}}function Q(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var e=function(e){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&e<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&e>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,t).getMonth().toString(),n.textContent=h(t,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===t&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function J(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?e=d("span","cur-month"):(g.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),g.monthsDropdownContainer.setAttribute("aria-label",g.l10n.monthAriaLabel),F(g.monthsDropdownContainer,"change",(function(e){var t=m(e),n=parseInt(t.value,10);g.changeMonth(n-g.currentMonth),_e("onMonthChange")})),Q(),e=g.monthsDropdownContainer);var o=f("cur-year",{tabindex:"-1"}),i=o.getElementsByTagName("input")[0];i.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var a=d("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(o),n.appendChild(a),t.appendChild(n),{container:t,yearElement:i,monthElement:e}}function U(){u(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var e=g.config.showMonths;e--;){var t=J();g.yearElements.push(t.yearElement),g.monthElements.push(t.monthElement),g.monthNav.appendChild(t.container)}g.monthNav.appendChild(g.nextMonthNav)}function V(){g.weekdayContainer?u(g.weekdayContainer):g.weekdayContainer=d("div","flatpickr-weekdays");for(var e=g.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(t)}return q(),g.weekdayContainer}function q(){if(g.weekdayContainer){var e=g.l10n.firstDayOfWeek,t=k(g.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=k(t.splice(e,t.length),t.splice(0,e)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function G(e,t){void 0===t&&(t=!0);var n=t?e:e-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,_e("onYearChange"),Q()),K(),_e("onMonthChange"),be())}function X(e){return g.calendarContainer.contains(e)}function z(e){if(g.isOpen&&!g.config.inline){var t=m(e),n=X(t),o=!(t===g.input||t===g.altInput||g.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(g.input)||~e.path.indexOf(g.altInput))||n||X(e.relatedTarget)),i=!g.config.ignoredFocusElements.some((function(e){return e.contains(t)}));o&&i&&(g.config.allowInput&&g.setDate(g._input.value,!1,g.config.altInput?g.config.altFormat:g.config.dateFormat),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&""!==g.input.value&&void 0!==g.input.value&&T(),g.close(),g.config&&"range"===g.config.mode&&1===g.selectedDates.length&&g.clear(!1))}}function Z(e){if(!(!e||g.config.minDate&&e<g.config.minDate.getFullYear()||g.config.maxDate&&e>g.config.maxDate.getFullYear())){var t=e,n=g.currentYear!==t;g.currentYear=t||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),n&&(g.redraw(),_e("onYearChange"),Q())}}function ee(e,t){var n;void 0===t&&(t=!0);var o=g.parseDate(e,void 0,t);if(g.config.minDate&&o&&C(o,g.config.minDate,void 0!==t?t:!g.minDateHasTime)<0||g.config.maxDate&&o&&C(o,g.config.maxDate,void 0!==t?t:!g.maxDateHasTime)>0)return!1;if(!g.config.enable&&0===g.config.disable.length)return!0;if(void 0===o)return!1;for(var i=!!g.config.enable,a=null!==(n=g.config.enable)&&void 0!==n?n:g.config.disable,r=0,s=void 0;r<a.length;r++){if("function"==typeof(s=a[r])&&s(o))return i;if(s instanceof Date&&void 0!==o&&s.getTime()===o.getTime())return i;if("string"==typeof s){var c=g.parseDate(s,void 0,!0);return c&&c.getTime()===o.getTime()?i:!i}if("object"==typeof s&&void 0!==o&&s.from&&s.to&&o.getTime()>=s.from.getTime()&&o.getTime()<=s.to.getTime())return i}return!i}function te(e){return void 0!==g.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&g.daysContainer.contains(e)}function ne(e){var t=e.target===g._input,n=g._input.value.trimEnd()!==ye();!t||!n||e.relatedTarget&&X(e.relatedTarget)||g.setDate(g._input.value,!0,e.target===g.altInput?g.config.altFormat:g.config.dateFormat)}function oe(e){var t=m(e),o=g.config.wrap?n.contains(t):t===g._input,i=g.config.allowInput,a=g.isOpen&&(!i||!o),r=g.config.inline&&o&&!i;if(13===e.keyCode&&o){if(i)return g.setDate(g._input.value,!0,t===g.altInput?g.config.altFormat:g.config.dateFormat),g.close(),t.blur();g.open()}else if(X(t)||a||r){var s=!!g.timeContainer&&g.timeContainer.contains(t);switch(e.keyCode){case 13:s?(e.preventDefault(),T(),ue()):pe(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:o&&!g.config.allowInput&&(e.preventDefault(),g.clear());break;case 37:case 39:if(s||o)g.hourElement&&g.hourElement.focus();else{e.preventDefault();var c=_();if(void 0!==g.daysContainer&&(!1===i||c&&te(c))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),G(l),R($(1),0)):R(void 0,l)}}break;case 38:case 40:e.preventDefault();var d=40===e.keyCode?1:-1;g.daysContainer&&void 0!==t.$i||t===g.input||t===g.altInput?e.ctrlKey?(e.stopPropagation(),Z(g.currentYear-d),R($(1),0)):s||R(void 0,7*d):t===g.currentYearElement?Z(g.currentYear-d):g.config.enableTime&&(!s&&g.hourElement&&g.hourElement.focus(),T(e),g._debouncedChange());break;case 9:if(s){var u=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter((function(e){return e})),p=u.indexOf(t);if(-1!==p){var f=u[p+(e.shiftKey?-1:1)];e.preventDefault(),(f||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&t===g.amPM)switch(e.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],I(),Ce();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],I(),Ce()}(o||X(t))&&_e("onKeyDown",e)}function ie(e,t){if(void 0===t&&(t="flatpickr-day"),1===g.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),o=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),i=Math.min(n,g.selectedDates[0].getTime()),a=Math.max(n,g.selectedDates[0].getTime()),r=!1,s=0,c=0,l=i;l<a;l+=864e5)ee(new Date(l),!0)||(r=r||l>i&&l<a,l<o&&(!s||l>s)?s=l:l>o&&(!c||l<c)&&(c=l));Array.from(g.rContainer.querySelectorAll("*:nth-child(-n+"+g.config.showMonths+") > ."+t)).forEach((function(t){var i,a,l,d=t.dateObj.getTime(),u=s>0&&d<s||c>0&&d>c;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=g.selectedDates[0].getTime()?"startRange":"endRange"),o<n&&d===o?t.classList.add("startRange"):o>n&&d===o&&t.classList.add("endRange"),d>=s&&(0===c||d<=c)&&(a=o,l=n,(i=d)>Math.min(a,l)&&i<Math.max(a,l))&&t.classList.add("inRange")))}))}}function ae(){!g.isOpen||g.config.static||g.config.inline||le()}function re(e){return function(t){var n=g.config["_"+e+"Date"]=g.parseDate(t,g.config.dateFormat),o=g.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(g["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter((function(e){return ee(e)})),g.selectedDates.length||"min"!==e||O(n),Ce()),g.daysContainer&&(de(),void 0!==n?g.currentYearElement[e]=n.getFullYear().toString():g.currentYearElement.removeAttribute(e),g.currentYearElement.disabled=!!o&&void 0!==n&&o.getFullYear()===n.getFullYear())}}function se(){return g.config.wrap?n.querySelector("[data-input]"):n}function ce(){"object"!=typeof g.config.locale&&void 0===S.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=M(M({},S.l10ns.default),"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?S.l10ns[g.config.locale]:void 0),v.D="("+g.l10n.weekdays.shorthand.join("|")+")",v.l="("+g.l10n.weekdays.longhand.join("|")+")",v.M="("+g.l10n.months.shorthand.join("|")+")",v.F="("+g.l10n.months.longhand.join("|")+")",v.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",void 0===M(M({},o),JSON.parse(JSON.stringify(n.dataset||{}))).time_24hr&&void 0===S.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=b(g),g.parseDate=y({config:g.config,l10n:g.l10n})}function le(e){if("function"!=typeof g.config.position){if(void 0!==g.calendarContainer){_e("onPreCalendarPosition");var t=e||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=g.calendarContainer.offsetWidth,i=g.config.position.split(" "),a=i[0],r=i.length>1?i[1]:null,s=t.getBoundingClientRect(),c=window.innerHeight-s.bottom,d="above"===a||"below"!==a&&c<n&&s.top>n,u=window.pageYOffset+s.top+(d?-n-2:t.offsetHeight+2);if(l(g.calendarContainer,"arrowTop",!d),l(g.calendarContainer,"arrowBottom",d),!g.config.inline){var p=window.pageXOffset+s.left,f=!1,m=!1;"center"===r?(p-=(o-s.width)/2,f=!0):"right"===r&&(p-=o-s.width,m=!0),l(g.calendarContainer,"arrowLeft",!f&&!m),l(g.calendarContainer,"arrowCenter",f),l(g.calendarContainer,"arrowRight",m);var h=window.document.body.offsetWidth-(window.pageXOffset+s.right),_=p+o>window.document.body.offsetWidth,v=h+o>window.document.body.offsetWidth;if(l(g.calendarContainer,"rightMost",_),!g.config.static)if(g.calendarContainer.style.top=u+"px",_)if(v){var w=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(o=document.createElement("style"),document.head.appendChild(o),o.sheet);var o}();if(void 0===w)return;var b=window.document.body.offsetWidth,y=Math.max(0,b/2-o/2),C=w.cssRules.length,D="{left:"+s.left+"px;right:auto;}";l(g.calendarContainer,"rightMost",!1),l(g.calendarContainer,"centerMost",!0),w.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+D,C),g.calendarContainer.style.left=y+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=h+"px";else g.calendarContainer.style.left=p+"px",g.calendarContainer.style.right="auto"}}}else g.config.position(g,e)}function de(){g.config.noCalendar||g.isMobile||(Q(),be(),K())}function ue(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function pe(e){e.preventDefault(),e.stopPropagation();var t=p(m(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,o=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(o.getMonth()<g.currentMonth||o.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[o];else if("multiple"===g.config.mode){var a=we(o);a?g.selectedDates.splice(parseInt(a),1):g.selectedDates.push(o)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=o,g.selectedDates.push(o),0!==C(o,g.selectedDates[0],!0)&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(I(),i){var r=g.currentYear!==o.getFullYear();g.currentYear=o.getFullYear(),g.currentMonth=o.getMonth(),r&&(_e("onYearChange"),Q()),_e("onMonthChange")}if(be(),K(),Ce(),i||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():W(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect){var s="single"===g.config.mode&&!g.config.enableTime,c="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime;(s||c)&&ue()}A()}}g.parseDate=y({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=F,g._setHoursFromDate=O,g._positionCalendar=le,g.changeMonth=G,g.changeYear=Z,g.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===t&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),!0===g.config.enableTime){var n=x(g.config);P(n.hours,n.minutes,n.seconds)}g.redraw(),e&&_e("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),_e("onClose")},g.onMouseOver=ie,g._createElement=d,g.createDay=H,g.destroy=function(){void 0!==g.config&&_e("onDestroy");for(var e=g._handlers.length;e--;)g._handlers[e].remove();if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var t=g.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete g[e]}catch(e){}}))},g.isEnabled=ee,g.jumpToDate=N,g.updateValue=Ce,g.open=function(e,t){if(void 0===t&&(t=g._positionElement),!0===g.isMobile){if(e){e.preventDefault();var n=m(e);n&&n.blur()}return void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void _e("onOpen")}if(!g._input.disabled&&!g.config.inline){var o=g.isOpen;g.isOpen=!0,o||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),_e("onOpen"),le(t)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(!1!==g.config.allowInput||void 0!==e&&g.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return g.hourElement.select()}),50))}},g.redraw=de,g.set=function(t,n){if(null!==t&&"object"==typeof t)for(var o in Object.assign(g.config,t),t)void 0!==fe[o]&&fe[o].forEach((function(e){return e()}));else g.config[t]=n,void 0!==fe[t]?fe[t].forEach((function(e){return e()})):e.indexOf(t)>-1&&(g.config[t]=c(n));g.redraw(),Ce(!0)},g.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=g.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return g.clear(t);me(e,n),g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),N(void 0,t),O(),0===g.selectedDates.length&&g.clear(!1),Ce(t),t&&_e("onChange")},g.toggle=function(e){if(!0===g.isOpen)return g.close();g.open(e)};var fe={locale:[ce,q],showMonths:[U,E,V],minDate:[N],maxDate:[N],positionElement:[he],clickOpens:[function(){!0===g.config.clickOpens?(F(g._input,"focus",g.open),F(g._input,"click",g.open)):(g._input.removeEventListener("focus",g.open),g._input.removeEventListener("click",g.open))}]};function me(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return g.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[g.parseDate(e,t)];else if("string"==typeof e)switch(g.config.mode){case"single":case"time":n=[g.parseDate(e,t)];break;case"multiple":n=e.split(g.config.conjunction).map((function(e){return g.parseDate(e,t)}));break;case"range":n=e.split(g.l10n.rangeSeparator).map((function(e){return g.parseDate(e,t)}))}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));g.selectedDates=g.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&ee(e,!1)})),"range"===g.config.mode&&g.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ge(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?g.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:g.parseDate(e.from,void 0),to:g.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function he(){g._positionElement=g.config.positionElement||g._input}function _e(e,t){if(void 0!==g.config){var n=g.config[e];if(void 0!==n&&n.length>0)for(var o=0;n[o]&&o<n.length;o++)n[o](g.selectedDates,g.input.value,g,t);"onChange"===e&&(g.input.dispatchEvent(ve("change")),g.input.dispatchEvent(ve("input")))}}function ve(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<g.selectedDates.length;t++){var n=g.selectedDates[t];if(n instanceof Date&&0===C(n,e))return""+t}return!1}function be(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach((function(e,t){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+t),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[t].textContent=h(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function ye(e){var t=e||(g.config.altInput?g.config.altFormat:g.config.dateFormat);return g.selectedDates.map((function(e){return g.formatDate(e,t)})).filter((function(e,t,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(e)===t})).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function Ce(e){void 0===e&&(e=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=ye(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=ye(g.config.altFormat)),!1!==e&&_e("onValueUpdate")}function De(e){var t=m(e),n=g.prevMonthNav.contains(t),o=g.nextMonthNav.contains(t);n||o?G(n?-1:1):g.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):t.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=n,g.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=M(M({},JSON.parse(JSON.stringify(n.dataset||{}))),o),r={};g.config.parseDate=a.parseDate,g.config.formatDate=a.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(e){g.config._enable=ge(e)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(e){g.config._disable=ge(e)}});var s="time"===a.mode;if(!a.dateFormat&&(a.enableTime||s)){var l=S.defaultConfig.dateFormat||t.dateFormat;r.dateFormat=a.noCalendar||s?"H:i"+(a.enableSeconds?":S":""):l+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||s)&&!a.altFormat){var d=S.defaultConfig.altFormat||t.altFormat;r.altFormat=a.noCalendar||s?"h:i"+(a.enableSeconds?":S K":" K"):d+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:re("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:re("max")});var u=function(e){return function(t){g.config["min"===e?"_minTime":"_maxTime"]=g.parseDate(t,"H:i:S")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:u("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:u("max")}),"time"===a.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,r,a);for(var p=0;p<i.length;p++)g.config[i[p]]=!0===g.config[i[p]]||"true"===g.config[i[p]];for(e.filter((function(e){return void 0!==g.config[e]})).forEach((function(e){g.config[e]=c(g.config[e]||[]).map(w)})),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=0;p<g.config.plugins.length;p++){var f=g.config.plugins[p](g)||{};for(var m in f)e.indexOf(m)>-1?g.config[m]=c(f[m]).map(w).concat(g.config[m]):void 0===a[m]&&(g.config[m]=f[m])}a.altInputClass||(g.config.altInputClass=se().className+" "+g.config.altInputClass),_e("onParseConfig")}(),ce(),g.input=se(),g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=d(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),he()):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var e=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);e&&me(e,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0)}(),g.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=g.currentMonth),void 0===t&&(t=g.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:g.l10n.daysInMonth[e]}},g.isMobile||function(){var e=window.document.createDocumentFragment();if(g.calendarContainer=d("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(e.appendChild((g.monthNav=d("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=d("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=d("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,U(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(e){g.__hidePrevMonthArrow!==e&&(l(g.prevMonthNav,"flatpickr-disabled",e),g.__hidePrevMonthArrow=e)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(e){g.__hideNextMonthArrow!==e&&(l(g.nextMonthNav,"flatpickr-disabled",e),g.__hideNextMonthArrow=e)}}),g.currentYearElement=g.yearElements[0],be(),g.monthNav)),g.innerContainer=d("div","flatpickr-innerContainer"),g.config.weekNumbers){var t=function(){g.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",g.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,o=t.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=o,g.weekWrapper=n}g.rContainer=d("div","flatpickr-rContainer"),g.rContainer.appendChild(V()),g.daysContainer||(g.daysContainer=d("div","flatpickr-days"),g.daysContainer.tabIndex=-1),K(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),e.appendChild(g.innerContainer)}g.config.enableTime&&e.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar");var e=x(g.config);g.timeContainer=d("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=f("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=n.getElementsByTagName("input")[0];var o=f("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=o.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),g.minuteElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():e.minutes),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.hourElement.setAttribute("maxlength","2"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.minuteElement.setAttribute("maxlength","2"),g.timeContainer.appendChild(n),g.timeContainer.appendChild(t),g.timeContainer.appendChild(o),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var i=f("flatpickr-second");g.secondElement=i.getElementsByTagName("input")[0],g.secondElement.value=a(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():e.seconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.secondElement.setAttribute("maxlength","2"),g.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(i)}return g.config.time_24hr||(g.amPM=d("span","flatpickr-am-pm",g.l10n.amPM[r((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),l(g.calendarContainer,"rangeMode","range"===g.config.mode),l(g.calendarContainer,"animate",!0===g.config.animate),l(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(e);var i=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!i&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var s=d("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(s,g.element),s.appendChild(g.element),g.altInput&&s.appendChild(g.altInput),s.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){if(g.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+e+"]"),(function(t){return F(t,"click",g[e])}))})),g.isMobile)!function(){var e=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=d("input",g.input.className+" flatpickr-mobile"),g.mobileInput.tabIndex=1,g.mobileInput.type=e,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.getAttribute("step")&&(g.mobileInput.step=String(g.input.getAttribute("step"))),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(e){}F(g.mobileInput,"change",(function(e){g.setDate(m(e).value,!1,g.mobileFormatStr),_e("onChange"),_e("onClose")}))}();else{var e=s(ae,50);if(g._debouncedChange=s(A,300),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&F(g.daysContainer,"mouseover",(function(e){"range"===g.config.mode&&ie(m(e))})),F(g._input,"keydown",oe),void 0!==g.calendarContainer&&F(g.calendarContainer,"keydown",oe),g.config.inline||g.config.static||F(window,"resize",e),void 0!==window.ontouchstart?F(window.document,"touchstart",z):F(window.document,"mousedown",z),F(window.document,"focus",z,{capture:!0}),!0===g.config.clickOpens&&(F(g._input,"focus",g.open),F(g._input,"click",g.open)),void 0!==g.daysContainer&&(F(g.monthNav,"click",De),F(g.monthNav,["keyup","increment"],j),F(g.daysContainer,"click",pe)),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement){F(g.timeContainer,["increment"],T),F(g.timeContainer,"blur",T,{capture:!0}),F(g.timeContainer,"click",Y),F([g.hourElement,g.minuteElement],["focus","click"],(function(e){return m(e).select()})),void 0!==g.secondElement&&F(g.secondElement,"focus",(function(){return g.secondElement&&g.secondElement.select()})),void 0!==g.amPM&&F(g.amPM,"click",(function(e){T(e)}))}g.config.allowInput&&F(g._input,"blur",ne)}}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&O(g.config.noCalendar?g.latestSelectedDateObj:void 0),Ce(!1)),E();var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&i&&le(),_e("onReady")}(),g}function T(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),o=[],i=0;i<n.length;i++){var a=n[i];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=E(a,t||{}),o.push(a._flatpickr)}catch(e){console.error(e)}}return 1===o.length?o[0]:o}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return T(this,e)},HTMLElement.prototype.flatpickr=function(e){return T([this],e)});var S=function(e,t){return"string"==typeof e?T(window.document.querySelectorAll(e),t):e instanceof Node?T([e],t):T(e,t)};function I(e,t){if("caret"===e||"cursor"===e)return t.getCursor();if("string"==typeof e){if(e.includes(":")){const[t,n]=e.split(":").map(Number);return{line:t,ch:n}}e=Number(e)}return"number"==typeof e?t.posFromIndex(e):e}S.defaultConfig={},S.l10ns={en:M({},i),default:M({},i)},S.localize=function(e){S.l10ns.default=M(M({},S.l10ns.default),e)},S.setDefaults=function(e){S.defaultConfig=M(M({},S.defaultConfig),e)},S.parseDate=y({}),S.formatDate=b({}),S.compareDates=C,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return T(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=S),(window.WPCodeSnippetManagerPro||function(e,t,n){const o={l10n:wpcode,editor_id:"wpcode_snippet_code",init:function(){jQuery((function(){o.init_revisions_show_more(),o.should_init()&&(o.init_save_to_cloud(),o.init_schedule_snippet(),o.init_clear_input(),o.init_code_type_switcher(),o.$unsaved_block_button=n("#wpcode-unsaved-blocks-enable"),o.init_confirm_save_to_enable_block_editor())})),n(e.body).on("wpcode_cl_type_loaded",o.load_cl_schedule_inputs),n(e.body).on("wpcode_cl_type_loaded",o.load_meta_inputs)},changes_not_saved:function(){return t.WPCodeSnippetManager.unload_set},should_init:function(){return void 0!==t.wpcode_editor&&null!==e.getElementById(o.editor_id)},init_save_to_cloud(){o.save_to_cloud_button=n("#wpcode_save_to_cloud"),o.save_to_cloud_button.on("click",(function(e){const t=n(this).data("has-auth"),i=n(this).data("id"),a=n(this).data("cloud-id");return 0===t?o.prompt_auth():o.changes_not_saved()?o.prompt_save_changes():void 0===a?o.save_to_cloud(i):void n.confirm({title:"<div class='excl-mark'>!</div>"+o.l10n.save_confirm_title,content:o.l10n.save_confirm_text,theme:"modern save-to-cloud",closeIcon:!1,type:"blue",buttons:{confirm:{text:o.l10n.save_confirm_button,btnClass:"wpcode-btn-confirm",action:function(){o.save_to_cloud(i)}},cancel:{text:o.l10n.cancel_button,btnClass:"wpcode-btn-reject",action:function(){}}}})}))},prompt_auth(){n.confirm({title:o.l10n.auth_needed_title,content:o.l10n.auth_needed_text,closeIcon:!1,boxWidth:"600px",type:"blue",buttons:{confirm:{text:o.l10n.auth_needed_confirm,btnClass:"wpcode-btn-confirm",action:function(){t.WPCodeSpinner.show_button_spinner(o.save_to_cloud_button,"left"),WPCodeLibraryAuth.start_auth(o.save_to_cloud_button)}}}})},prompt_save_changes(){n.confirm({title:o.l10n.save_changes_title,content:o.l10n.save_changes_text,closeIcon:!1,type:"blue",buttons:{confirm:{text:o.l10n.save_changes_confirm,btnClass:"wpcode-btn-confirm",action:function(){n("#wpcode-snippet-manager-form").submit()}},cancel:{text:"Cancel",btnClass:"wpcode-btn-reject",action:function(){}}}})},save_to_cloud(e){const i=n.confirm({title:o.l10n.please_wait,closeIcon:!1,content:'<div class="lds-dual-ring"></div>',boxWidth:"600px",theme:"modern loader-spinner",backgroundDismiss:!1,buttons:{close:{isHidden:!0}},onOpenBefore:function(){this.buttons.close.hide(),this.$content.parent().addClass("jconfirm-loading")},onClose:function(){this.$content.parent().removeClass("jconfirm-loading")}});n.post(ajaxurl,{action:"wpcode_save_to_cloud",_wpnonce:o.l10n.nonce,snippet_id:e,multisite:o.l10n.multisite}).then((function(e){i.close(),e.success?n.confirm({title:e.data.title,content:e.data.message,closeIcon:!1,type:"blue",buttons:{confirm:{text:o.l10n.save_success_confirm,btnClass:"wpcode-btn-confirm",action:function(){}},cancel:{text:o.l10n.save_success_cancel,btnClass:"wpcode-btn-reject",action:function(){e.data.edit_url&&t.open(e.data.edit_url,"_blank")}}}}):n.confirm({title:"",content:e.data.message,type:"blue",buttons:{confirm:{text:o.l10n.ok,btnClass:"wpcode-btn-confirm",action:function(){}}}})}))},init_revisions_show_more(){n("#wpcode-show-all-snippets").on("click",(function(){n(this).closest(".wpcode-revisions-list-area").find(".wpcode-revisions-list-collapsed").slideDown(),n(this).hide()}))},init_schedule_snippet(){n(".wpcode-input-datetime").flatpickr({dateFormat:"Y-m-d H:i",enableTime:!0,allowInput:!0,minuteIncrement:1,onChange:function(e,t,n){const o=n._input.nextElementSibling;o&&(o.style.display=""===t?"none":"block")}})},load_cl_schedule_inputs(e,t){t.conditions_holder.find(".wpcode-input-time").flatpickr({dateFormat:"H:i",noCalendar:!0,enableTime:!0,allowInput:!0,minuteIncrement:1}),t.conditions_holder.find(".wpcode-input-date").flatpickr({dateFormat:"Y-m-d",enableTime:!1,allowInput:!0}),t.conditions_holder.find(".wpcode-input-datetime").flatpickr({dateFormat:"Y-m-d H:i",enableTime:!0,allowInput:!0,minuteIncrement:1})},init_clear_input(){n(".wpcode-input-button-clear").on("click",(function(){n(this).closest(".wpcode-input-row-input").find("input").val(""),n(this).hide()}))},init_code_type_switcher(){WPCodeSnippetManager.switcher.on("change",(function(){"blocks"===n(this).data("previous-type")&&o.show_blocks_switch_notice()}))},show_blocks_switch_notice(){n.confirm({title:wpcode.switch_blocks_title,content:wpcode.switch_blocks_text,closeIcon:!1,buttons:{ok:{text:wpcode.ok,btnClass:"wpcode-btn-confirm",action:function(){}}}})},init_confirm_save_to_enable_block_editor(){0===parseInt(o.$unsaved_block_button.val())&&(WPCodeSnippetManager.catch_unsaved_button=!0),o.$unsaved_block_button.on("click",(function(e){WPCodeSnippetManager.catch_unsaved_button&&(e.preventDefault(),n.confirm({title:wpcode.save_blocks_title,content:wpcode.save_blocks_text,closeIcon:!1,buttons:{yes:{text:wpcode.yes,btnClass:"wpcode-btn-confirm",action:function(){WPCodeSnippetManager.catch_unsaved_button=!1,o.$unsaved_block_button.click()}},no:{text:wpcode.no,btnClass:"wpcode-btn-reject",action:function(){}}}}))}))},load_meta_inputs(e,t){if(t.element){const e=t.element.val(),n=t.element.closest(".wpcode-cl-rules-row");if("post_meta"===e&&"user_meta"===e||(n.find(".wpcode-cl-rule-meta-key-container").remove(),n.find(".wpcode-cl-rule-user-meta-key-container").remove()),n.find(".wpcode-cl-rule-meta-key-container").remove(),"post_meta"===e){const e='\n\t\t\t\t\t\t\t<div class="wpcode-rule-container wpcode-cl-rule-meta-key-container">\n\t\t\t\t\t\t\t\t<input type="text" class="wpcode-cl-rule-meta-key wpcode-input-text" name="wpcode-cl-rule-meta-key" placeholder="Enter Meta Key" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t';n.find(".wpcode-cl-rule-type-container").after(e)}else if("user_meta"===e){const e='\n\t\t\t\t\t\t<div class="wpcode-cl-rule-user-meta-key-container">\n\t\t\t\t\t\t\t<input type="text" class="wpcode-cl-rule-user-meta-key wpcode-input-text" name="wpcode-cl-rule-user-meta-key" placeholder="Enter User Meta Key" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t';n.find(".wpcode-cl-rule-type-container").after(e)}}}};return o}(document,window,jQuery)).init(),n(812),n(999),n(659),n(177),n(843),n(21);const O=Object.assign((function(e,t){const n=N(t),o="string"==typeof e?F(e,n):e,i=(e,i,a)=>{const r=P(o,t),s=j(o,t);r(e,(()=>{a((()=>{s(e,i,a)}),n.wait)}),a)};return i.dispose=()=>o.remove(),i}),{show:P,hide:j,create:F});function P(e,t){const n=N(t),o=(t,o)=>{!function(e,t,n){const o=I(n.pos,t),{alignX:i,alignY:a,attach:r}=n;if(r)r(t,e,o,n);else{const n=t.cursorCoords(o,"local");t.addWidget(o,e,!1);const{offsetWidth:r,offsetHeight:s}=e;"center"===i?e.style.left=n.left-r/2+"px":"right"===i&&(e.style.left=n.left-r+"px"),"above"===a&&(e.style.top=n.top-s+"px")}}(e,t,n),A(e,n.animationShow,o)};return o.dispose=()=>e.remove(),o}function j(e,t){const n=N(t);return function(t,o){A(e,n.animationHide,(()=>{e.remove(),o()}))}}function F(e,t){const{baseClass:n,alignX:o,alignY:i}=N(t);return a=`<div class="${n}" data-align-x="${o}" data-align-y="${i}">\n        <div class="${n}-content">${e}</div>\n        <div class="${n}-tail"></div>\n    </div>`,(r=document.createElement("div")).innerHTML=a,r.firstChild;var a,r}function A(e,t,n){if(!t)return n();const o=e.style.animation;e.style.animation=t;const i=a=>{t.includes(a.animationName)&&(e.removeEventListener("animationend",i),e.removeEventListener("animationcancel",i),e.style.animation=o,n())};e.addEventListener("animationend",i),e.addEventListener("animationcancel",i)}function N(e){return Object.assign({wait:4e3,pos:"caret",alignX:"center",alignY:"above",baseClass:"cmm-tooltip"},e)}function Y(e,t){const n=Object.assign({delay:90,afterDelay:0},t);return function(t,o,i){const a=I(e,t);let r=t.getCursor();if(!n.delay)return t.setCursor(a),o();const s=a.line-r.line,c=a.ch-r.ch,l=s<0?-1:1,d=c<0?-1:1;let u=Math.max(Math.abs(c),Math.abs(s));t.setSelection(r,r),i((function e(){r=t.getCursor(),u>0&&(r.line!=a.line||r.ch!=a.ch)?(t.operation((()=>{if(r.line!==a.line&&(r.line+=l,t.execCommand(1===l?"goLineDown":"goLineUp")),r.ch!==a.ch){const e=t.getLine(r.line),n=Math.min(e.length,Math.max(r.ch+d)),o=t.getCursor().ch;n!==o&&t.execCommand(n>o?"goCharRight":"goCharLeft"),r.ch+=d}t.setCursor(r)})),u--,i(e,n.delay)):(t.setCursor(a),n.afterDelay?i(o,n.afterDelay):o())}),n.delay)}}var L,H,W=Object.freeze({__proto__:null,type:function(e,t){const n=Object.assign({delay:60,pos:"cursor"},t);return function(t,o,i){if(null==e)return o();"cursor"!==n.pos&&t.setCursor(I(n.pos,t));const a=String(e).split("");i((function e(){const r=a.shift();t.replaceSelection(r,"end"),a.length?i(e,n.delay):o()}),n.delay)}},wait:function(e){return function(t,n,o){o(n,e)}},moveTo:Y,jumpTo:function(e,t){return Y(e,Object.assign({delay:0,afterDelay:200},t))},run:function(e,t){const n=Object.assign({delay:500,times:1},t);return function(t,o,i){let a=0;if(n.times<=0)return o();i((function r(){a++,"function"==typeof e?e(t,a):t.execCommand(e),a<n.times?i(r,n.delay):o()}),n.delay)}},select:function(e,t="cursor"){return function(n,o){n.setSelection(I(t,n),I(e,n)),o()}},tooltip:O}),$=(L=function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,o,a,r){if("function"!=typeof o)throw new TypeError("The listener must be a function");var s=new i(o,a||e,r),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function r(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,o,i=[];if(0===this._eventsCount)return i;for(o in e=this._events)t.call(e,o)&&i.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,r=new Array(a);i<a;i++)r[i]=o[i].fn;return r},s.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},s.prototype.emit=function(e,t,o,i,a,r){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,o),!0;case 4:return d.fn.call(d.context,t,o,i),!0;case 5:return d.fn.call(d.context,t,o,i,a),!0;case 6:return d.fn.call(d.context,t,o,i,a,r),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,f=d.length;for(l=0;l<f;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,o);break;case 4:d[l].fn.call(d[l].context,t,o,i);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,o,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return r(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||o&&s.context!==o||r(this,a);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||i&&!s[c].once||o&&s[c].context!==o)&&l.push(s[c]);l.length?this._events[a]=1===l.length?l[0]:l:r(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&r(this,t)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},L(H={exports:{}}),H.exports);class R extends ${constructor(e,t,n){super(),this.scenes=e,this.editor=t,this.state="idle",this.ix=0,this.timer=null,this.options=Object.assign({beforeDelay:1e3,afterDelay:1e3},n),this.initial={value:t.getValue(),cursor:t.getCursor(),readOnly:t.getOption("readOnly")}}play(){if("play"!==this.state)if("pause"!==this.state){if("idle"===this.state){const{editor:t}=this;this.revert(),this.lock(),t.focus();var e=this.requestTimer.bind(this);this.ix=0;const n=()=>{if(this.ix>=this.scenes.length)return e((()=>this.stop()),this.options.afterDelay);this.emit("scene",this.ix);const t=this.scenes[this.ix++];if("function"!=typeof t)throw new Error(`Scene ${this.ix} is not a function`);t(this.editor,n,e)};this.state="play",this.emit("play"),e(n,this.options.beforeDelay)}}else{if(this.state="play",this.editor.focus(),this.timer){const{timeout:e,start:t}=this.timer,n=Date.now()-t;n>=this.timer.timeout?this.timer.fn():B(this.timer,e-n)}this.emit("resume")}}pause(){var e;this.state="pause",this.timer&&(e=this.timer,clearTimeout(e.id),e.id=0),this.emit("pause")}stop(){var e;"idle"!==this.state&&(this.state="idle",this.unlock(),this.timer&&(e=this.timer,clearTimeout(e.id),this.timer=null),this.scenes.forEach((e=>{e.dispose&&e.dispose(this.editor)})),this.emit("stop"))}toggle(){"play"===this.state?this.pause():this.play()}requestTimer(e,t){if(this.timer)throw new Error("Unable to create timer since another timer is currently running");this.timer=function(e,t){return{fn:e,timeout:t,start:Date.now(),id:0}}((()=>{this.timer=null,e()}),t),"play"===this.state&&B(this.timer)}revert(){this.editor.operation((()=>{this.editor.setValue(this.initial.value),this.editor.setCursor(this.initial.cursor)}))}lock(){const{editor:e}=this;this.initial.readOnly=e.getOption("readOnly"),e.setOption("readOnly",!0),e.on("keydown",K),e.on("mousedown",K)}unlock(){const{editor:e}=this;e.setOption("readOnly",this.initial.readOnly),e.off("keydown",K),e.off("mousedown",K)}}function B(e,t=e.timeout){e.id=window.setTimeout(e.fn,t)}function K(e,t){t.preventDefault()}const Q=window.WPCodeAIGenerate||function(e,t,n){const o={user_prompt:"",action:"generate",i18n:t.wpcode,init(){o.should_init()&&(o.add_event_listeners(),o.textarea_auto_grow())},should_init:()=>(o.user_input_form=n("#wpcode-ai-input-form"),0!==o.user_input_form.length),add_event_listeners(){o.user_input_textarea=n("#wpcode-ai-user-input"),o.status_message_area=n("#wpcode-ai-status-area"),o.generate_error_area=n("#wpcode-ai-error-area"),o.improve_button=n("#wpcode-ai-improve"),o.modal_content=n(".wpcode-ai-modal-content"),o.user_input_form.on("submit",o.process_user_input),o.user_input_textarea.focus(),o.improve_button.on("click",(function(e){e.preventDefault(),n(this).hasClass("wpcode-button-ai-not-available")||(o.action="improve",o.user_input_textarea.prop("placeholder",o.i18n.ai_texts.improve_placeholder),n("body").addClass("wpcode-ai-generate-visible"),o.user_input_textarea.focus())})),o.modal_content.on("click",(function(e){"improve"===o.action&&n(this).is(e.target)&&n("body").removeClass("wpcode-ai-generate-visible")}))},textarea_auto_grow(){o.user_input_textarea.on("input",(function(){this.style.height="auto";const e=this.scrollHeight-20;this.style.height=e+"px"}))},get_action:()=>"improve"===o.action?"wpcode_ai_improve_snippet":"wpcode_ai_generate_snippet",process_user_input(e){e.preventDefault();const t=o.user_input_textarea.val();if(0===t.length)return;o.generate_error_area.html(""),o.user_prompt=t,n("#wpcode-button-ai-generate").addClass("wpcode-button-ai-loading"),o.user_input_textarea.prop("disabled",!0);const i={action:o.get_action(),_wpnonce:wpcode.nonce,text:o.user_prompt};"improve"===o.action&&(i.code=wpcode_editor.wpcode_snippet_code.codemirror.getValue()),n.post(ajaxurl,i).error((function(e,t){o.generate_error_area.html("<p>"+t+"</p>"),o.user_input_textarea.prop("disabled",!1),n("#wpcode-button-ai-generate").removeClass("wpcode-button-ai-loading")})).done(o.handle_ai_response)},handle_ai_response(e){if(o.user_input_textarea.prop("disabled",!1),n("#wpcode-button-ai-generate").removeClass("wpcode-button-ai-loading"),e.success){if(e.data.code){n("body").removeClass("wpcode-ai-generate-visible").addClass("wpcode-ai-running"),o.user_input_textarea.val(""),t.scrollTo(0,0),e.data.code_type&&n("#wpcode_snippet_type").val(e.data.code_type).trigger("change"),o.set_status_message(o.i18n.ai_texts.writing_code),wpcode_editor.wpcode_snippet_code.codemirror.setValue(""),wpcode_editor.wpcode_snippet_code.codemirror.setCursor({line:0,ch:0});const i=function(e,t,n){const o=t(W);return new R(o,e,n)}(wpcode_editor.wpcode_snippet_code.codemirror,(t=>[t.type(e.data.code,{delay:0})]));let a="";e.data.cl_rule_type&&(n("#wpcode_conditional_logic_enable").prop("checked",!0).trigger("change"),n("#wpcode-cl-add-group").trigger("click"),t.scrollTo(0,0),n("#wpcode-conditions-holder .wpcode-cl-group:first .wpcode-cl-rule-type").val(e.data.cl_rule_type).trigger("change"),n("#wpcode-conditions-holder .wpcode-cl-group:first .wpcode-cl-rule-relation").val(e.data.cl_operator).trigger("change"),n("#wpcode-conditions-holder .wpcode-cl-group:first .wpcode-cl-rule-value :input").val(e.data.cl_value).trigger("change"),a=n('#wpcode-conditions-holder .wpcode-cl-group:first .wpcode-cl-rule-type option[value="'+e.data.cl_rule_type+'"]').text()),i.on("stop",(()=>{let t=0;if(e.data.location){const i=n('input[name="wpcode_auto_insert_location"][value="'+e.data.location+'"]').closest("label").find(".wpcode-list-item-title").attr("title");o.set_status_message(o.i18n.ai_texts.setting_location+" "+i+"...",(function(){n('input[name="wpcode_auto_insert_location"][value="'+e.data.location+'"]').prop("checked",!0).trigger("change")})),t=2e3}if(a.length>0&&(setTimeout((function(){o.set_status_message(o.i18n.ai_texts.configuring_cl+" "+a+"...")}),2e3),t=4e3),e.data.title){const o=e.data.title,i=n('[name="wpcode_snippet_title"]'),a=o.length,r=10;let s=0;setTimeout((function(){const e=setInterval((function(){i.val(o.substr(0,s)),s++,s>a&&clearInterval(e)}),r)}),t)}setTimeout((function(){o.hide_status_message()}),t)})),setTimeout((function(){n('input[name="wpcode_auto_insert_location"][value="'+e.data.location+'"]').prop("checked",!0).trigger("change")}),8e3),i.play()}}else o.generate_error_area.html("<p>"+e.data.message+"</p>")},set_status_message(e,t){const i=n(".CodeMirror-gutters").outerWidth();o.status_message_area.show(),o.status_message_area.css("margin-left",i+1+"px");const a=o.status_message_area.outerHeight();o.status_message_area.css("margin-top",-a-57+"px"),o.status_message_area.css("opacity",1);const r=o.status_message_area.find("span");r.fadeOut(500,(function(){r.html(e).fadeIn(500,t)}))},hide_status_message(){o.set_status_message(o.i18n.ai_texts.done),n("body").removeClass("wpcode-ai-running"),o.status_message_area.delay(1e3).fadeOut()}};return o}(document,window,jQuery);Q.init(),n(699)}()}();